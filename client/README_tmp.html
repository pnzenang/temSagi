<!DOCTYPE html>
<html>
<head>
<title>README.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h2 id="useful-project-resources">Useful Project Resources</h2>
<ul>
<li><a href="https://react-vite-comfy-store-v2.netlify.app/">Complete Project</a></li>
<li><a href="https://documenter.getpostman.com/view/18152321/2s9Xy5KpTi">API DOCS</a></li>
</ul>
<h2 id="important">IMPORTANT !!!</h2>
<p>Try to work on one challenge at a time and observe my solution.
This approach will make it easier later to identify any potential bugs.</p>
<h2 id="challenge-1---setup">Challenge (1) - Setup</h2>
<ul>
<li>create vite project with tailwind</li>
</ul>
<h2 id="solution-1---setup-vite-and-tailwind">Solution (1) - Setup Vite and Tailwind</h2>
<p><a href="https://tailwindcss.com/docs/guides/vite">Tailwind Docs</a></p>
<ul>
<li>setup vite project</li>
</ul>
<pre class="hljs"><code><div>npm create vite@latest comfy-store -- --template react
<span class="hljs-built_in">cd</span> comfy-store
</div></code></pre>
<ul>
<li>add tailwind</li>
</ul>
<pre class="hljs"><code><div>npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
</div></code></pre>
<ul>
<li>rename to tailwind.config.cjs</li>
<li>add following content</li>
</ul>
<p>tailwind.config.cjs</p>
<pre class="hljs"><code><div><span class="hljs-comment">/** <span class="hljs-doctag">@type <span class="hljs-type">{import('tailwindcss').Config}</span> </span>*/</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">content</span>: [<span class="hljs-string">'./index.html'</span>, <span class="hljs-string">'./src/**/*.{js,ts,jsx,tsx}'</span>],
  <span class="hljs-attr">theme</span>: {
    <span class="hljs-attr">extend</span>: {},
  },
  <span class="hljs-attr">plugins</span>: [],
};
</div></code></pre>
<ul>
<li>remove App.css</li>
<li>delete contents of index.css</li>
<li>delete contents of App.jsx</li>
<li>change title</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>App<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</div></code></pre>
<ul>
<li>Add the Tailwind directives to your CSS</li>
</ul>
<p>index.css</p>
<pre class="hljs"><code><div><span class="hljs-keyword">@tailwind</span> base;
<span class="hljs-keyword">@tailwind</span> components;
<span class="hljs-keyword">@tailwind</span> utilities;
</div></code></pre>
<p>Tailwind directives are instructions that decide how Tailwind CSS creates the styles for your website. They control the global styles, component styles, and utility classes.</p>
<ul>
<li>
<p>start the project &quot;npm run dev&quot;</p>
</li>
<li>
<p>setup first tailwind classes in App.jsx</p>
</li>
<li>
<p>remove StrictMode</p>
<p>App.jsx</p>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-7xl font-bold underline'</span>&gt;</span>Tailwind project<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</div></code></pre>
<h2 id="assets">Assets</h2>
<ul>
<li>get project assets</li>
</ul>
<h2 id="challenge-2---setup-daisyui">Challenge (2) - Setup DaisyUI</h2>
<ul>
<li>
<p><a href="https://daisyui.com/">DaisyUI</a></p>
</li>
<li>
<p>add and configure daisyui to our project</p>
</li>
<li>
<p>add TailwindCSS Typography plugin</p>
</li>
</ul>
<h2 id="solution-2---setup-daisyui">Solution (2) - Setup DaisyUI</h2>
<p><a href="https://daisyui.com/">DaisyUI</a></p>
<pre class="hljs"><code><div>npm i  -D daisyui@latest @tailwindcss/typography
</div></code></pre>
<p>tailwind.config.js</p>
<pre class="hljs"><code><div>{
 <span class="hljs-attr">plugins</span>: [<span class="hljs-built_in">require</span>(<span class="hljs-string">'@tailwindcss/typography'</span>), <span class="hljs-built_in">require</span>(<span class="hljs-string">'daisyui'</span>)],
}
</div></code></pre>
<h2 id="install-all-libraries">Install All Libraries</h2>
<pre class="hljs"><code><div>npm i axios@1.4.0 dayjs@1.11.9 @reduxjs/toolkit@1.9.5 @tanstack/react-query@4.32.6 @tanstack/react-query-devtools@4.32.6 react-icons@4.10.1 react-redux@8.1.2 react-router-dom@6.14.2 react-toastify@9.1.3

</div></code></pre>
<h2 id="challenge-3---create-all-pages">Challenge (3) - Create All Pages</h2>
<ul>
<li>create pages directory</li>
<li>create all pages and export from index.js</li>
<li>About, Cart, Checkout, Error,
HomeLayout, Landing, Login, Orders,
Products, Register, SingleProduct</li>
<li>import in app.jsx</li>
</ul>
<h2 id="solution-3---create-all-pages">Solution (3) - Create All Pages</h2>
<p>pages/About.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> About = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-4xl'</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> About;
</div></code></pre>
<p>pages/index.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> HomeLayout } <span class="hljs-keyword">from</span> <span class="hljs-string">'./HomeLayout'</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> Landing } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Landing'</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> SingleProduct } <span class="hljs-keyword">from</span> <span class="hljs-string">'./SingleProduct'</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> Products } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Products'</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> Cart } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Cart'</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">Error</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Error'</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> About } <span class="hljs-keyword">from</span> <span class="hljs-string">'./About'</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> Login } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Login'</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> Register } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Register'</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> Checkout } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Checkout'</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> Orders } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Orders'</span>;
</div></code></pre>
<p>App.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> {
  HomeLayout,
  Landing,
  <span class="hljs-built_in">Error</span>,
  Products,
  SingleProduct,
  Cart,
  About,
  Register,
  Login,
  Checkout,
  Orders,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'./pages'</span>;
</div></code></pre>
<h2 id="challenge-4---react-router">Challenge (4) - React Router</h2>
<ul>
<li>configure react router</li>
<li>setup initial route structure
hint : look for nested UI (basically navbar)</li>
</ul>
<h3 id="appjsx">App.jsx</h3>
<ol>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import necessary modules from the 'react-router-dom' library.</li>
</ul>
</li>
<li>
<p>Create Router Configuration:</p>
<ul>
<li>Use the <code>createBrowserRouter</code> function to set up a router configuration.</li>
<li>Define an array of route objects, each representing a different route in your application.</li>
<li>Configure routes for different paths, including components like <code>HomeLayout</code>, <code>Landing</code>, <code>Products</code>, etc.</li>
</ul>
</li>
<li>
<p>Create Router Instance:</p>
<ul>
<li>Create a router instance using the <code>createBrowserRouter</code> function and pass in the defined route configuration.</li>
</ul>
</li>
<li>
<p>Define App Component:</p>
<ul>
<li>Create a functional component named <code>App</code>.</li>
<li>Return a <code>RouterProvider</code> component and pass in the created router instance as a prop.</li>
</ul>
</li>
<li>
<p>Export App Component:</p>
<ul>
<li>Export the <code>App</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-4---react-router">Solution (4) - React Router</h2>
<p>App.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { RouterProvider, createBrowserRouter } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> router = createBrowserRouter([
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HomeLayout</span> /&gt;</span></span>,
    <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Error</span> /&gt;</span></span>,
    <span class="hljs-attr">children</span>: [
      {
        <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Landing</span> /&gt;</span></span>,
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'products'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Products</span> /&gt;</span></span>,
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'products/:id'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SingleProduct</span> /&gt;</span></span>,
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'cart'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Cart</span> /&gt;</span></span>,
      },
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'about'</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">About</span> /&gt;</span></span> },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'checkout'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Checkout</span> /&gt;</span></span>,
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'orders'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Orders</span> /&gt;</span></span>,
      },
    ],
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/login'</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span>,
    <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Error</span> /&gt;</span></span>,
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/register'</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Register</span> /&gt;</span></span>,
    <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Error</span> /&gt;</span></span>,
  },
]);

<span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{router}</span> /&gt;</span></span>;
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</div></code></pre>
<p>HomeLayout.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Outlet } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> HomeLayout = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-4xl text-primary'</span>&gt;</span>Comfy<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> HomeLayout;
</div></code></pre>
<h2 id="challenge-5---error-page">Challenge (5) - Error Page</h2>
<ul>
<li>complete error page</li>
<li>create two returns</li>
<li>first for 404 errors</li>
<li>second for all other errors</li>
<li>log the error</li>
<li>add option to navigate home</li>
</ul>
<h3 id="errorjsx">Error.jsx</h3>
<ol>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import the necessary modules <code>useRouteError</code> and <code>Link</code> from the 'react-router-dom' library.</li>
</ul>
</li>
<li>
<p>Create Error Component:</p>
<ul>
<li>Define a functional component named <code>Error</code>.</li>
<li>Inside the component, use the <code>useRouteError</code> hook to get information about the route error.</li>
<li>Check the status of the error using <code>error.status</code>.</li>
</ul>
</li>
<li>
<p>Conditional Rendering for 404 Error:</p>
<ul>
<li>If the error status is 404, render a <code>main</code> element with a grid layout and centered content.</li>
<li>Display a large &quot;404&quot; text, a title &quot;Page not found,&quot; and a description.</li>
<li>Include a link back to the home page using the <code>Link</code> component.</li>
</ul>
</li>
<li>
<p>Conditional Rendering for Other Errors:</p>
<ul>
<li>If the error status is not 404, render a <code>main</code> element with a grid layout and centered content.</li>
<li>Display a text message indicating that there was an error.</li>
</ul>
</li>
<li>
<p>Export Error Component:</p>
<ul>
<li>Export the <code>Error</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-5---error-page">Solution (5) - Error Page</h2>
<p>Error.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useRouteError, Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-built_in">Error</span> = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> error = useRouteError();
  <span class="hljs-built_in">console</span>.log(error);
  <span class="hljs-keyword">if</span> (error.status === <span class="hljs-number">404</span>)
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'grid min-h-[100vh] place-items-center px-8 '</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-center'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-9xl font-semibold text-primary'</span>&gt;</span>404<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-4 text-3xl font-bold tracking-tight sm:text-5xl'</span>&gt;</span>
            Page not found
          <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-6 text-lg leading-7 '</span>&gt;</span>
            Sorry, we couldn’t find the page you’re looking for.
          <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-10 '</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-secondary'</span>&gt;</span>
              Go back home
            <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span></span>
    );

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'grid min-h-[100vh] place-items-center px-8 '</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-center font-bold text-4xl'</span>&gt;</span>there was an error... <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-built_in">Error</span>;
</div></code></pre>
<h2 id="challenge-6---input-field-component">Challenge (6) - Input Field Component</h2>
<ul>
<li>create components folder with index.js</li>
<li>in daisyui</li>
<li>find Text input component</li>
<li>more specifically &quot;With form-control and labels&quot;</li>
<li>set it as component (in my case FormInput.jsx)</li>
<li>decide on props</li>
<li>export from index.js</li>
<li>test in login</li>
</ul>
<h3 id="forminputjsx">FormInput.jsx</h3>
<ol>
<li>
<p>Create FormInput Component:</p>
<ul>
<li>Define a functional component named <code>FormInput</code>.</li>
<li>The component accepts the following props: <code>label</code>, <code>name</code>, <code>type</code>, and <code>defaultValue</code>.</li>
</ul>
</li>
<li>
<p>FormInput Structure:</p>
<ul>
<li>Inside the component, return a <code>div</code> element with the class <code>form-control</code>, which provides styling for form inputs.</li>
<li>Within this <code>div</code>, create a <code>label</code> element with the class <code>label</code>.</li>
<li>Inside the <code>label</code>, use the <code>label-text</code> class to display the capitalized label text provided through the props.</li>
</ul>
</li>
<li>
<p>Input Element:</p>
<ul>
<li>After the <code>label</code>, create an <code>input</code> element.</li>
<li>Set the <code>type</code> attribute of the <code>input</code> element to the value provided through the <code>type</code> prop.</li>
<li>Set the <code>name</code> attribute of the <code>input</code> element to the value provided through the <code>name</code> prop.</li>
<li>Use the <code>defaultValue</code> prop to set the initial value of the input element.</li>
<li>Apply the <code>input</code> and <code>input-bordered</code> classes to the <code>input</code> element for styling.</li>
</ul>
</li>
<li>
<p>Export FormInput Component:</p>
<ul>
<li>Export the <code>FormInput</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-6---input-field-component">Solution (6) - Input Field Component</h2>
<p>components/index.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> FormInput } <span class="hljs-keyword">from</span> <span class="hljs-string">'./FormInput'</span>;
</div></code></pre>
<p>FormInput.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> FormInput = <span class="hljs-function">(<span class="hljs-params">{ label, name, type, defaultValue }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'form-control '</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label-text capitalize'</span>&gt;</span>{label}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">{type}</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span>
        <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{defaultValue}</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">'input input-bordered '</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> FormInput;
</div></code></pre>
<h2 id="challenge-7---login-page-structure">Challenge (7) - Login Page Structure</h2>
<ul>
<li>setup structure for login page (use complete project as reference)</li>
<li>check for loading state and disable submit button</li>
<li>setup submit button in a separate component</li>
<li>add loading spinner</li>
</ul>
<h3 id="submitbtnjsx">SubmitBtn.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>useNavigation</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Create the <code>SubmitBtn</code> Component:</p>
<ul>
<li>
<p>Define a functional component named <code>SubmitBtn</code>.</p>
</li>
<li>
<p>Accept a prop <code>text</code>.</p>
</li>
<li>
<p>Inside the component, use the <code>useNavigation()</code> hook to access navigation state.</p>
</li>
<li>
<p>Determine whether the form is submitting by checking if <code>navigation.state</code> is equal to <code>'submitting'</code>.</p>
</li>
<li>
<p>Return a <code>button</code> element with the following attributes:</p>
<ul>
<li>
<p>Type set to <code>'submit'</code>.</p>
</li>
<li>
<p>Class set to <code>'btn btn-primary btn-block'</code>.</p>
</li>
<li>
<p>Disabled attribute set to the value of <code>isSubmitting</code>.</p>
</li>
<li>
<p>Inside the <code>button</code> element, use a conditional rendering:</p>
<ul>
<li>If <code>isSubmitting</code> is true:
<ul>
<li>Render a <code>span</code> element with class <code>'loading loading-spinner'</code>.</li>
<li>Render the text <code>'sending...'</code>.</li>
</ul>
</li>
<li>If <code>isSubmitting</code> is false:
<ul>
<li>Render the <code>text</code> prop if provided, otherwise render <code>'submit'</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="loginjsx">Login.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>FormInput</code> and <code>SubmitBtn</code> components from the <code>'../components'</code> directory.</li>
<li>Import <code>Form</code> and <code>Link</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Create the <code>Login</code> Component:</p>
<ul>
<li>
<p>Define a functional component named <code>Login</code>.</p>
</li>
<li>
<p>Return a <code>section</code> element with class <code>'h-screen grid place-items-center'</code>.</p>
<ul>
<li>
<p>Inside the <code>section</code> element, create a <code>Form</code> element with the following attributes:</p>
<ul>
<li>
<p><code>method</code> set to <code>'post'</code>.</p>
</li>
<li>
<p>Class set to <code>'card w-96 p-8 bg-base-100 shadow-lg flex flex-col gap-y-4'</code>.</p>
</li>
<li>
<p>Inside the <code>Form</code> element, create an <code>h4</code> element with class <code>'text-center text-3xl font-bold'</code> containing the text <code>'Login'</code>.</p>
</li>
<li>
<p>Use the <code>FormInput</code> component twice:</p>
<ul>
<li>First, for an email input with type <code>'email'</code>, label <code>'email'</code>, name <code>'identifier'</code>, and defaultValue <code>'test@test.com'</code>.</li>
<li>Second, for a password input with type <code>'password'</code>, label <code>'password'</code>, name <code>'password'</code>, and defaultValue <code>'secret'</code>.</li>
</ul>
</li>
<li>
<p>Create a <code>div</code> element with class <code>'mt-4'</code>.</p>
<ul>
<li>Inside the <code>div</code> element, use the <code>SubmitBtn</code> component with a prop <code>text</code> set to <code>'login'</code>.</li>
</ul>
</li>
<li>
<p>Create a <code>button</code> element with the following attributes:</p>
<ul>
<li>Type set to <code>'button'</code>.</li>
<li>Class set to <code>'btn btn-secondary btn-block'</code>.</li>
<li>Text content set to <code>'guest user'</code>.</li>
</ul>
</li>
<li>
<p>Create a <code>p</code> element with class <code>'text-center'</code>.</p>
<ul>
<li>
<p>Inside the <code>p</code> element, display the text <code>'Not a member yet?'</code>.</p>
</li>
<li>
<p>Create a <code>Link</code> element with the following attributes:</p>
<ul>
<li><code>to</code> set to <code>'/register'</code>.</li>
<li>Class set to <code>'ml-2 link link-hover link-primary capitalize'</code>.</li>
<li>Text content set to <code>'register'</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="solution-7---login-page-structure">Solution (7) - Login Page Structure</h2>
<p>Login.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { FormInput, SubmitBtn } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;
<span class="hljs-keyword">import</span> { Form, Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> Login = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'h-screen grid place-items-center'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Form</span>
        <span class="hljs-attr">method</span>=<span class="hljs-string">'post'</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">'card w-96 p-8 bg-base-100 shadow-lg flex flex-col gap-y-4'</span>
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-center text-3xl font-bold'</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">'email'</span>
          <span class="hljs-attr">label</span>=<span class="hljs-string">'email'</span>
          <span class="hljs-attr">name</span>=<span class="hljs-string">'identifier'</span>
          <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">'test@test.com'</span>
        /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">'password'</span>
          <span class="hljs-attr">label</span>=<span class="hljs-string">'password'</span>
          <span class="hljs-attr">name</span>=<span class="hljs-string">'password'</span>
          <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">'secret'</span>
        /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-4'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">SubmitBtn</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'login'</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'button'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-secondary btn-block'</span>&gt;</span>
          guest user
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-center'</span>&gt;</span>
          Not a member yet?
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span>
            <span class="hljs-attr">to</span>=<span class="hljs-string">'/register'</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">'ml-2 link link-hover link-primary capitalize'</span>
          &gt;</span>
            register
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Login;
</div></code></pre>
<p>SubmitBtn.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">const</span> SubmitBtn = <span class="hljs-function">(<span class="hljs-params">{ text }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> navigation = useNavigation();
  <span class="hljs-keyword">const</span> isSubmitting = navigation.state === <span class="hljs-string">'submitting'</span>;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>
      <span class="hljs-attr">type</span>=<span class="hljs-string">'submit'</span>
      <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-primary btn-block'</span>
      <span class="hljs-attr">disabled</span>=<span class="hljs-string">{isSubmitting}</span>
    &gt;</span>
      {isSubmitting ? (
        <span class="hljs-tag">&lt;&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'loading loading-spinner'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          sending...
        <span class="hljs-tag">&lt;/&gt;</span></span>
      ) : (
        text || <span class="hljs-string">'submit'</span>
      )}
    &lt;<span class="hljs-regexp">/button&gt;
  );
};
export default SubmitBtn;
</span></div></code></pre>
<h2 id="challenge-8---register-page-structure">Challenge (8) - Register Page Structure</h2>
<ul>
<li>setup structure for register page (use complete project as reference)</li>
</ul>
<h3 id="registerjsx">Register.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>FormInput</code> and <code>SubmitBtn</code> components from the <code>'../components'</code> directory.</li>
<li>Import <code>Form</code> and <code>Link</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Create the <code>Register</code> Component:</p>
<ul>
<li>
<p>Define a functional component named <code>Register</code>.</p>
</li>
<li>
<p>Return a <code>section</code> element with class <code>'h-screen grid place-items-center'</code>.</p>
<ul>
<li>
<p>Inside the <code>section</code> element, create a <code>Form</code> element with the following attributes:</p>
<ul>
<li>
<p><code>method</code> set to <code>'POST'</code>.</p>
</li>
<li>
<p>Class set to <code>'card w-96 p-8 bg-base-100 shadow-lg flex flex-col gap-y-4'</code>.</p>
</li>
<li>
<p>Inside the <code>Form</code> element, create an <code>h4</code> element with class <code>'text-center text-3xl font-bold'</code> containing the text <code>'Register'</code>.</p>
</li>
<li>
<p>Use the <code>FormInput</code> component three times:</p>
<ul>
<li>First, for a text input with type <code>'text'</code>, label <code>'username'</code>, and name <code>'username'</code>.</li>
<li>Second, for an email input with type <code>'email'</code>, label <code>'email'</code>, and name <code>'email'</code>.</li>
<li>Third, for a password input with type <code>'password'</code>, label <code>'password'</code>, and name <code>'password'</code>.</li>
</ul>
</li>
<li>
<p>Create a <code>div</code> element with class <code>'mt-4'</code>.</p>
<ul>
<li>Inside the <code>div</code> element, use the <code>SubmitBtn</code> component with a prop <code>text</code> set to <code>'register'</code>.</li>
</ul>
</li>
<li>
<p>Create a <code>p</code> element with class <code>'text-center'</code>.</p>
<ul>
<li>
<p>Inside the <code>p</code> element, display the text <code>'Already a member?'</code>.</p>
</li>
<li>
<p>Create a <code>Link</code> element with the following attributes:</p>
<ul>
<li><code>to</code> set to <code>'/login'</code>.</li>
<li>Class set to <code>'ml-2 link link-hover link-primary capitalize'</code>.</li>
<li>Text content set to <code>'login'</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="solution-8---register-page-structure">Solution (8) - Register Page Structure</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { FormInput, SubmitBtn } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;
<span class="hljs-keyword">import</span> { Form, Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> Register = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'h-screen grid place-items-center'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Form</span>
        <span class="hljs-attr">method</span>=<span class="hljs-string">'POST'</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">'card w-96 p-8 bg-base-100 shadow-lg flex flex-col gap-y-4'</span>
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-center text-3xl font-bold'</span>&gt;</span>Register<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> <span class="hljs-attr">label</span>=<span class="hljs-string">'username'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'username'</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'email'</span> <span class="hljs-attr">label</span>=<span class="hljs-string">'email'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'email'</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'password'</span> <span class="hljs-attr">label</span>=<span class="hljs-string">'password'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'password'</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-4'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">SubmitBtn</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'register'</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-center'</span>&gt;</span>
          Already a member?
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span>
            <span class="hljs-attr">to</span>=<span class="hljs-string">'/login'</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">'ml-2 link link-hover link-primary capitalize'</span>
          &gt;</span>
            login
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Register;
</div></code></pre>
<h2 id="challenge-9---custom-class">Challenge (9) - Custom Class</h2>
<ul>
<li>create custom class</li>
<li>align content</li>
<li>add to HomeLayout Outlet component</li>
</ul>
<h2 id="solution-9---custom-class">Solution (9) - Custom Class</h2>
<p>index.css</p>
<pre class="hljs"><code><div><span class="hljs-keyword">@layer</span> components {
  <span class="hljs-selector-class">.align-element</span> {
    @apply mx-auto max-w-6xl px-8;
  }
}
</div></code></pre>
<pre class="hljs"><code><div>&lt;section className=<span class="hljs-string">'align-element py-20'</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span></span>
&lt;<span class="hljs-regexp">/section&gt;
</span></div></code></pre>
<h2 id="challenge-10---header-component">Challenge (10) - Header Component</h2>
<ul>
<li>setup and render header component in HomeLayout</li>
<li>add two links - Login and Register</li>
</ul>
<h3 id="headerjsx">Header.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>Link</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Create the <code>Header</code> Component:</p>
<ul>
<li>
<p>Define a functional component named <code>Header</code>.</p>
</li>
<li>
<p>Return a <code>header</code> element with classes <code>'bg-neutral py-2 text-neutral-content'</code>.</p>
<ul>
<li>
<p>Inside the <code>header</code> element, create a <code>div</code> element with classes <code>'align-element flex justify-center sm:justify-end'</code>.</p>
<ul>
<li>
<p>Inside the <code>div</code> element, create another <code>div</code> element with classes <code>'flex gap-x-6 justify-center items-center'</code>.</p>
<ul>
<li>
<p>Use the <code>Link</code> component twice:</p>
<ul>
<li>
<p>First, create a <code>Link</code> to <code>'/login'</code> with the following attributes:</p>
<ul>
<li>Class set to <code>'link link-hover text-xs sm:text-sm'</code>.</li>
<li>Text content set to <code>'Sign in / Guest'</code>.</li>
</ul>
</li>
<li>
<p>Second, create a <code>Link</code> to <code>'/register'</code> with the following attributes:</p>
<ul>
<li>Class set to <code>'link link-hover text-xs sm:text-sm'</code>.</li>
<li>Text content set to <code>'Create an Account'</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="solution-10---header-component">Solution (10) - Header Component</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> Header = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">className</span>=<span class="hljs-string">' bg-neutral py-2 text-neutral-content '</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'align-element flex justify-center sm:justify-end '</span>&gt;</span>
        {/* USER */}
        {/* LINKS */}
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'flex gap-x-6 justify-center items-center'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/login'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'link link-hover text-xs sm:text-sm'</span>&gt;</span>
            Sign in / Guest
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/register'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'link link-hover text-xs sm:text-sm'</span>&gt;</span>
            Create an Account
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Header;
</div></code></pre>
<h2 id="challenge-11---navbar-structure">Challenge (11) - Navbar Structure</h2>
<ul>
<li>create components/Navbar.jsx</li>
<li>setup initial structure</li>
<li>use Daisy navbar component</li>
<li>&quot;# responsive (dropdown menu on small screen, center menu on large screen)&quot;</li>
<li>import icons from react-icons</li>
<li>render in HomeLayout.jsx</li>
</ul>
<h3 id="navbarjsx">Navbar.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import icons <code>BsCart3</code>, <code>BsMoonFill</code>, <code>BsSunFill</code>, and <code>FaBarsStaggered</code> from their respective packages.</li>
<li>Import <code>NavLink</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Create the <code>Navbar</code> Component:</p>
<ul>
<li>
<p>Define a functional component named <code>Navbar</code>.</p>
</li>
<li>
<p>Return a <code>nav</code> element with class <code>'bg-base-200'</code>.</p>
<ul>
<li>
<p>Inside the <code>nav</code> element, create a <code>div</code> element with class <code>'navbar align-element '</code>.</p>
<ul>
<li>
<p>Inside the first <code>div</code> element, create another <code>div</code> element with class <code>'navbar-start'</code>.</p>
<ul>
<li>
<p>Create a <code>NavLink</code> to <code>'/'</code> with the following attributes:</p>
<ul>
<li>Class set to <code>'hidden lg:flex btn btn-primary text-3xl items-center '</code>.</li>
</ul>
</li>
<li>
<p>Create a <code>div</code> element with class <code>'dropdown'</code>.</p>
<ul>
<li>
<p>Create a <code>label</code> element with <code>tabIndex={0}</code> and class <code>'btn btn-ghost lg:hidden'</code>.</p>
</li>
<li>
<p>Create a <code>ul</code> element with <code>tabIndex={0}</code> and class <code>'menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-200 rounded-box w-52'</code>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Inside the second <code>div</code> element, create a <code>div</code> element with class <code>'navbar-center hidden lg:flex'</code>.</p>
<ul>
<li>Create a <code>ul</code> element with class <code>'menu menu-horizontal '</code>.</li>
</ul>
</li>
<li>
<p>Inside the third <code>div</code> element, create another <code>div</code> element with class <code>'navbar-end'</code>.</p>
<ul>
<li>
<p>Create a <code>NavLink</code> to <code>'cart'</code> with the following attributes:</p>
<ul>
<li>
<p>Class set to <code>'btn btn-ghost btn-circle btn-md ml-4'</code>.</p>
</li>
<li>
<p>Inside the <code>NavLink</code>, create a <code>div</code> element with class <code>'indicator'</code>.</p>
<ul>
<li>
<p>Add the <code>BsCart3</code> icon component with class <code>'h-6 w-6'</code>.</p>
</li>
<li>
<p>Create a <code>span</code> element with classes <code>'badge badge-sm badge-primary indicator-item'</code> and text content <code>'8'</code>.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="solution-11---navbar-structure">Solution (11) - Navbar Structure</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { BsCart3, BsMoonFill, BsSunFill } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-icons/bs'</span>;
<span class="hljs-keyword">import</span> { FaBarsStaggered } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-icons/fa6'</span>;
<span class="hljs-keyword">import</span> { NavLink } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> Navbar = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'bg-base-200'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'navbar align-element '</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'navbar-start'</span>&gt;</span>
          {/* Title */}
          <span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span>
            <span class="hljs-attr">to</span>=<span class="hljs-string">'/'</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">'hidden lg:flex btn btn-primary text-3xl items-center '</span>
          &gt;</span>
            C
          <span class="hljs-tag">&lt;/<span class="hljs-name">NavLink</span>&gt;</span>
          {/* DROPDOWN */}
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'dropdown'</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">tabIndex</span>=<span class="hljs-string">{0}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-ghost lg:hidden'</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">FaBarsStaggered</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'h-6 w-6'</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>
              <span class="hljs-attr">tabIndex</span>=<span class="hljs-string">{0}</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">'menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-200 rounded-box w-52'</span>
            &gt;</span>
              nav links
            <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'navbar-center hidden lg:flex'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'menu menu-horizontal '</span>&gt;</span>nav links<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'navbar-end'</span>&gt;</span>
          {/* THEME ICONS */}
          {/* CART LINK*/}
          <span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'cart'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-ghost btn-circle btn-md ml-4'</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'indicator'</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">BsCart3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'h-6 w-6'</span> /&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'badge badge-sm badge-primary indicator-item'</span>&gt;</span>
                8
              <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">NavLink</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Navbar;
</div></code></pre>
<h2 id="challenge-12---navlinks">Challenge (12) - NavLinks</h2>
<ul>
<li>create NavLinks component</li>
<li>setup an array of links</li>
<li>iterate over and setup return</li>
</ul>
<h3 id="navbarjsx">Navbar.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>NavLink</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Create the NavLinks Component:</p>
<ul>
<li>
<p>Define a functional component named <code>NavLinks</code>.</p>
</li>
<li>
<p>Return a fragment (<code>&lt;&gt;...&lt;/&gt;</code>) to contain the list of navigation links.</p>
<ul>
<li>
<p>Use the <code>.map()</code> function to iterate over the <code>links</code> array.</p>
<ul>
<li>
<p>For each <code>link</code> object, extract the <code>id</code>, <code>url</code>, and <code>text</code>.</p>
</li>
<li>
<p>Create an <code>li</code> element with a <code>key</code> attribute set to <code>id</code>.</p>
<ul>
<li>
<p>Inside the <code>li</code> element, create a <code>NavLink</code> with the following attributes:</p>
<ul>
<li>
<p>Class set to <code>'capitalize'</code>.</p>
</li>
<li>
<p><code>to</code> attribute set to the <code>url</code>.</p>
</li>
<li>
<p>Text content set to the <code>text</code>.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="solution-12---navlinks">Solution (12) - NavLinks</h2>
<p>NavLinks.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> links = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">'/'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'home'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">'about'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'about'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">'products'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'products'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">'cart'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'cart'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">'checkout'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'checkout'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">'orders'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'orders'</span> },
];
<span class="hljs-keyword">import</span> { NavLink } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> NavLinks = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      {links.map((link) =&gt; {
        const { id, url, text } = link;
        return (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{id}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'capitalize'</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{url}</span>&gt;</span>
              {text}
            <span class="hljs-tag">&lt;/<span class="hljs-name">NavLink</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        );
      })}
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> NavLinks;
</div></code></pre>
<h2 id="challenge-13---toggle-component">Challenge (13) - Toggle Component</h2>
<ul>
<li>add daisyui swap component</li>
</ul>
<h2 id="solution-13---toggle-component">Solution (13) - Toggle Component</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">const</span> [theme, setTheme] = useState(<span class="hljs-literal">false</span>);

<span class="hljs-keyword">const</span> handleTheme = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  setTheme(!theme);
};
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'navbar-end'</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'swap swap-rotate '</span>&gt;</span>
    {/* this hidden checkbox controls the state */}
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'checkbox'</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleTheme}</span> /&gt;</span>

    {/* sun icon */}
    <span class="hljs-tag">&lt;<span class="hljs-name">BsSunFill</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'swap-on h-4 w-4'</span> /&gt;</span>

    {/* moon icon */}
    <span class="hljs-tag">&lt;<span class="hljs-name">BsMoonFill</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'swap-off h-4 w-4'</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
</div></code></pre>
<h2 id="challenge-14---set-themes">Challenge (14) - Set Themes</h2>
<ul>
<li>add few themes from daisyui</li>
<li>test in index.html</li>
</ul>
<h2 id="solution-14---set-themes">Solution (14) - Set Themes</h2>
<p>tailwind.config.cjs</p>
<pre class="hljs"><code><div>{
...
  daisyui: {
    <span class="hljs-attr">themes</span>: [<span class="hljs-string">'winter'</span>, <span class="hljs-string">'dracula'</span>],
  },
}
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span> <span class="hljs-attr">data-theme</span>=<span class="hljs-string">"winter"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<h2 id="challenge-15---change-theme">Challenge (15) - Change Theme</h2>
<ul>
<li>change theme with toggle component</li>
</ul>
<h3 id="navbarjsx">Navbar.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>useEffect</code> and <code>useState</code> from <code>'react'</code>.</li>
</ul>
</li>
<li>
<p>Theme Configuration:</p>
<ul>
<li>Define a <code>themes</code> object with theme names as keys.</li>
</ul>
</li>
<li>
<p>Local Storage Theme Retrieval:</p>
<ul>
<li>Create a function named <code>getThemeFromLocalStorage</code>.
<ul>
<li>Return the value of the <code>'theme'</code> key from <code>localStorage</code> or the default theme <code>'winter'</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Logic:</p>
<ul>
<li>Create a state variable <code>theme</code> using the <code>useState</code> hook and initialize it with the result of <code>getThemeFromLocalStorage()</code>.</li>
<li>Define a function <code>handleTheme</code> that toggles between the <code>'winter'</code> and <code>'dracula'</code> themes based on the current theme.</li>
<li>Use the <code>useEffect</code> hook to apply the selected theme to the <code>document.documentElement</code> and store the theme value in <code>localStorage</code>.</li>
<li>... (rest of the component implementation)</li>
</ul>
</li>
</ul>
<h2 id="solution-15---change-theme">Solution (15) - Change Theme</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">const</span> themes = {
  <span class="hljs-attr">winter</span>: <span class="hljs-string">'winter'</span>,
  <span class="hljs-attr">dracula</span>: <span class="hljs-string">'dracula'</span>,
};

<span class="hljs-keyword">const</span> getThemeFromLocalStorage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> localStorage.getItem(<span class="hljs-string">'theme'</span>) || themes.winter;
};

<span class="hljs-keyword">const</span> Navbar = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> [theme, setTheme] = useState(getThemeFromLocalStorage());

  <span class="hljs-keyword">const</span> handleTheme = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> { winter, dracula } = themes;
    <span class="hljs-keyword">const</span> newTheme = theme === winter ? dracula : winter;
    setTheme(newTheme);
  };

  useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-built_in">document</span>.documentElement.setAttribute(<span class="hljs-string">'data-theme'</span>, theme);
    localStorage.setItem(<span class="hljs-string">'theme'</span>, theme);
  }, [theme]);

  ...
};
</div></code></pre>
<h2 id="challenge-16---about-page">Challenge (16) - About Page</h2>
<ul>
<li>setup about page</li>
</ul>
<h3 id="aboutjsx">About.jsx</h3>
<ul>
<li>About Component:
<ul>
<li>Define the <code>About</code> component.
<ul>
<li>Return a fragment containing the following elements:
<ul>
<li>A <code>div</code> with classes <code>flex</code>, <code>flex-wrap</code>, <code>gap-2</code>, <code>sm:gap-x-6</code>, <code>items-center</code>, and <code>justify-center</code>.
<ul>
<li>Inside the <code>div</code>, an <code>h1</code> with classes <code>text-4xl</code>, <code>font-bold</code>, <code>leading-none</code>, and <code>tracking-tight</code>, with the text &quot;We love&quot;.</li>
<li>Inside the <code>div</code>, a <code>div</code> with classes <code>stats</code>, <code>bg-primary</code>, and <code>shadow</code>.
<ul>
<li>Inside the nested <code>div</code>, another <code>div</code> with class <code>stat</code>.
<ul>
<li>Inside this <code>div</code>, a <code>div</code> with classes <code>stat-title</code>, <code>text-primary-content</code>, <code>text-4xl</code>, <code>font-bold</code>, and <code>tracking-widest</code>, containing the text &quot;comfy&quot;.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>A <code>p</code> element with classes <code>mt-6</code>, <code>text-lg</code>, <code>leading-8</code>, <code>max-w-2xl</code>, and <code>mx-auto</code>, containing sample Lorem ipsum text.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="solution-16---about-page">Solution (16) - About Page</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> About = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'flex flex-wrap gap-2 sm:gap-x-6 items-center justify-center'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-4xl font-bold leading-none tracking-tight sm:text-6xl '</span>&gt;</span>
          We love
        <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'stats bg-primary shadow'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'stat'</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'stat-title text-primary-content text-4xl font-bold tracking-widest'</span>&gt;</span>
              comfy
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-6 text-lg leading-8 max-w-2xl mx-auto'</span>&gt;</span>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic veniam
        odit, officiis eos mollitia alias, doloremque, aspernatur ratione
        asperiores voluptas labore minus dolores reprehenderit corporis quos.
        Assumenda molestias harum dignissimos?
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> About;
</div></code></pre>
<h2 id="challenge-17---hero-component">Challenge (17) - Hero Component</h2>
<ul>
<li>setup hero component in landing page</li>
</ul>
<h3 id="herojsx">Hero.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>Link</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Hero Component:</p>
<ul>
<li>Define the <code>Hero</code> component.
<ul>
<li>Create an array <code>carouselImages</code> containing imported image paths.</li>
<li>Return a <code>div</code> with classes <code>grid</code>, <code>grid-cols-1</code>, <code>lg:grid-cols-2</code>, <code>gap-24</code>, and <code>items-center</code>.
<ul>
<li>Inside this <code>div</code>, another <code>div</code>.
<ul>
<li>Inside this <code>div</code>, an <code>h1</code> with classes <code>max-w-2xl</code>, <code>text-4xl</code>, <code>font-bold</code>, and <code>tracking-tight</code>, containing the text &quot;We’re changing the way people shop.&quot;</li>
<li>Next, a <code>p</code> element with classes <code>mt-8</code>, <code>max-w-xl</code>, <code>text-lg</code>, and <code>leading-8</code>, containing sample Lorem ipsum text.</li>
<li>Following that, a <code>div</code> with class <code>mt-10</code>.
<ul>
<li>Inside the <code>div</code>, a <code>Link</code> component with props <code>to='products'</code> and classes <code>btn</code> and <code>btn-primary</code>, containing the text &quot;Our Products&quot;.</li>
</ul>
</li>
</ul>
</li>
<li>Another <code>div</code> with classes <code>hidden</code>, <code>h-[28rem]</code>, <code>lg:carousel</code>, <code>carousel-center</code>, <code>p-4</code>, <code>space-x-4</code>, <code>bg-neutral</code>, and <code>rounded-box</code>.
<ul>
<li>Inside this <code>div</code>, a JavaScript map function iterating over <code>carouselImages</code>.
<ul>
<li>For each image, a <code>div</code> with class <code>carousel-item</code>.
<ul>
<li>Inside the <code>div</code>, an <code>img</code> element with attributes <code>src</code> set to the image path and classes <code>rounded-box</code>, <code>h-full</code>, <code>w-80</code>, and <code>object-cover</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="challenge-17---hero-component">Challenge (17) - Hero Component</h2>
<p>Hero.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">import</span> hero1 <span class="hljs-keyword">from</span> <span class="hljs-string">'../assets/hero1.webp'</span>;
<span class="hljs-keyword">import</span> hero2 <span class="hljs-keyword">from</span> <span class="hljs-string">'../assets/hero2.webp'</span>;
<span class="hljs-keyword">import</span> hero3 <span class="hljs-keyword">from</span> <span class="hljs-string">'../assets/hero3.webp'</span>;
<span class="hljs-keyword">import</span> hero4 <span class="hljs-keyword">from</span> <span class="hljs-string">'../assets/hero4.webp'</span>;

<span class="hljs-keyword">const</span> carouselImages = [hero1, hero2, hero3, hero4];
<span class="hljs-keyword">const</span> Hero = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">' grid grid-cols-1 lg:grid-cols-2 gap-24 items-center'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'max-w-2xl text-4xl font-bold tracking-tight  sm:text-6xl '</span>&gt;</span>
          We’re changing the way people shop.
        <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-8 max-w-xl text-lg leading-8'</span>&gt;</span>
          Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem
          cupidatat commodo. Elit sunt amet fugiat veniam occaecat fugiat
          aliqua. Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure
          qui lorem cupidatat commodo.
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-10 '</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'products'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-primary '</span>&gt;</span>
            Our Products
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'hidden  h-[28rem] lg:carousel carousel-center   p-4 space-x-4 bg-neutral rounded-box'</span>&gt;</span>
        {carouselImages.map((image, index) =&gt; {
          return (
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{image}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'carousel-item'</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
                <span class="hljs-attr">src</span>=<span class="hljs-string">{image}</span>
                <span class="hljs-attr">className</span>=<span class="hljs-string">'rounded-box h-full w-80  object-cover'</span>
              /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          );
        })}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Hero;
</div></code></pre>
<h2 id="challenge-18---axios-custom-instance">Challenge (18) - Axios Custom Instance</h2>
<ul>
<li>explore api</li>
<li><a href="https://documenter.getpostman.com/view/18152321/2s9Xy5KpTi">API DOCS</a></li>
<li>create utils/index.js</li>
<li>setup custom axios instance</li>
<li>figure out the base url</li>
<li>setup thunder client (optional)</li>
</ul>
<h2 id="challenge-18---axios-custom-instance">Challenge (18) - Axios Custom Instance</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>;

<span class="hljs-keyword">const</span> productionUrl = <span class="hljs-string">'https://strapi-store-server.onrender.com/api'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> customFetch = axios.create({
  <span class="hljs-attr">baseURL</span>: productionUrl,
});
</div></code></pre>
<h2 id="challenge-19---landing-loader">Challenge (19) - Landing Loader</h2>
<ul>
<li>setup ErrorElement</li>
<li>add to Loading Page</li>
<li>setup a loader</li>
<li>fetch only featured products</li>
<li>return products</li>
</ul>
<h3 id="errorelementjsx">ErrorElement.jsx</h3>
<ol>
<li>
<p>Create ErrorElement Component:</p>
<ul>
<li>Define a functional component named <code>ErrorElement</code>.</li>
</ul>
</li>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import the <code>useRouteError</code> hook from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Get Route Error:</p>
<ul>
<li>Inside the component, use the <code>useRouteError</code> hook to retrieve the error information from the current route.</li>
</ul>
</li>
<li>
<p>Display Error Message:</p>
<ul>
<li>Return an <code>h4</code> element with the classes <code>font-bold</code> and <code>text-4xl</code>.</li>
<li>Set the content of the <code>h4</code> element to &quot;there was an error...&quot;</li>
</ul>
</li>
<li>
<p>Export ErrorElement Component:</p>
<ul>
<li>Export the <code>ErrorElement</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-19---landing-loader">Solution (19) - Landing Loader</h2>
<p>ErrorElement.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useRouteError } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">const</span> ErrorElement = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> error = useRouteError();
  <span class="hljs-built_in">console</span>.log(error);

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-bold text-4xl'</span>&gt;</span>there was an error... <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span>;
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ErrorElement;
</div></code></pre>
<p>App.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { ErrorElement } <span class="hljs-keyword">from</span> <span class="hljs-string">'./components'</span>;
<span class="hljs-comment">// loaders</span>
<span class="hljs-keyword">import</span> { loader <span class="hljs-keyword">as</span> landingLoader } <span class="hljs-keyword">from</span> <span class="hljs-string">'./pages/Landing'</span>;
<span class="hljs-comment">// actions</span>

<span class="hljs-keyword">const</span> router = createBrowserRouter([
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HomeLayout</span> /&gt;</span></span>,
    <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Error</span> /&gt;</span></span>,
    <span class="hljs-attr">children</span>: [
      {
        <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Landing</span> /&gt;</span></span>,
        <span class="hljs-attr">loader</span>: landingLoader,
        <span class="hljs-attr">errorElement</span>: ErrorElement,
      },
    ],
  },
]);
</div></code></pre>
<p>Landing.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Hero } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;

<span class="hljs-keyword">import</span> { customFetch } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">const</span> url = <span class="hljs-string">'/products?featured=true'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader = <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch(url);
  <span class="hljs-built_in">console</span>.log(response);
  <span class="hljs-keyword">const</span> products = response.data.data;
  <span class="hljs-keyword">return</span> { products };
};

<span class="hljs-keyword">const</span> Landing = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Hero</span> /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Landing;
</div></code></pre>
<h2 id="challenge-20---featured-products">Challenge (20) - Featured Products</h2>
<ul>
<li>create FeaturedProducts, SectionTitle and ProductsGrid components</li>
<li>render SectionTitle and ProductsGrid in FeaturedProducts</li>
<li>setup SectionTitle</li>
<li>in ProductsGrid access and render products from loader</li>
</ul>
<h3 id="sectiontitlejsx">SectionTitle.jsx</h3>
<ol>
<li>
<p>Create SectionTitle Component:</p>
<ul>
<li>Define a functional component named <code>SectionTitle</code>.</li>
</ul>
</li>
<li>
<p>Component Props:</p>
<ul>
<li>The component should accept a prop named <code>text</code>.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Return a <code>div</code> element with the classes <code>border-b border-base-300 pb-5</code>.</li>
<li>Inside the <code>div</code>, place an <code>h2</code> element with the classes <code>text-3xl</code>, <code>font-medium</code>, <code>tracking-wider</code>, and <code>capitalize</code>.</li>
<li>Set the content of the <code>h2</code> element to the value of the <code>text</code> prop.</li>
</ul>
</li>
<li>
<p>Export SectionTitle Component:</p>
<ul>
<li>Export the <code>SectionTitle</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h3 id="featuredproductsjsx">FeaturedProducts.jsx</h3>
<ol>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>ProductsGrid</code> from <code>'./ProductsGrid'</code>.</li>
<li>Import <code>SectionTitle</code> from <code>'./SectionTitle'</code>.</li>
</ul>
</li>
<li>
<p>Create FeaturedProducts Component:</p>
<ul>
<li>Define a functional component named <code>FeaturedProducts</code>.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Return a <code>div</code> element with the class <code>pt-24</code>.</li>
<li>Inside the <code>div</code>, include a <code>SectionTitle</code> component with the prop <code>text</code> set to <code>'featured products'</code>.</li>
<li>Include a <code>ProductsGrid</code> component.</li>
</ul>
</li>
<li>
<p>Export FeaturedProducts Component:</p>
<ul>
<li>Export the <code>FeaturedProducts</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h3 id="productsgridjsx">ProductsGrid.jsx</h3>
<ol>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>Link</code> and <code>useLoaderData</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Create ProductsGrid Component:</p>
<ul>
<li>Define a functional component named <code>ProductsGrid</code>.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Inside the component, destructure the <code>products</code> data using <code>useLoaderData</code>.</li>
<li>Return a <code>div</code> element with the classes <code>pt-12 grid gap-4 md:grid-cols-2 lg:grid-cols-3</code>.</li>
<li>Use the <code>.map()</code> function to iterate through each <code>product</code> in the <code>products</code> array.</li>
</ul>
</li>
<li>
<p>Product Card:</p>
<ul>
<li>For each <code>product</code>, destructure the attributes such as <code>title</code>, <code>price</code>, and <code>image</code>.</li>
<li>Create a <code>Link</code> component that has the following:
<ul>
<li><code>key</code> attribute set to <code>product.id</code>.</li>
<li><code>to</code> attribute set to <code>/products/${product.id}</code>.</li>
<li><code>className</code> attribute with classes for styling.</li>
</ul>
</li>
<li>Inside the <code>Link</code>, create a <code>figure</code> element with the class <code>px-4 pt-4</code> to hold the product image.</li>
<li>Within the <code>figure</code>, include an <code>img</code> element with the <code>src</code> attribute set to <code>image</code>, <code>alt</code> attribute set to <code>title</code>, and classes for styling.</li>
<li>Below the <code>figure</code>, create a <code>div</code> element with the class <code>card-body items-center text-center</code>.</li>
<li>Inside the <code>div</code>, display the <code>title</code> using a <code>h2</code> element with classes for styling.</li>
<li>Display the <code>price</code> using a <code>span</code> element with the class <code>text-secondary</code>.</li>
</ul>
</li>
<li>
<p>Export ProductsGrid Component:</p>
<ul>
<li>Export the <code>ProductsGrid</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-20---featured-products">Solution (20) - Featured Products</h2>
<p>SectionTitle.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> SectionTitle = <span class="hljs-function">(<span class="hljs-params">{ text }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'border-b border-base-300 pb-5'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-3xl font-medium tracking-wider capitalize'</span>&gt;</span>{text}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> SectionTitle;
</div></code></pre>
<p>FeaturedProducts.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> ProductsGrid <span class="hljs-keyword">from</span> <span class="hljs-string">'./ProductsGrid'</span>;
<span class="hljs-keyword">import</span> SectionTitle <span class="hljs-keyword">from</span> <span class="hljs-string">'./SectionTitle'</span>;
<span class="hljs-keyword">const</span> FeaturedProducts = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'pt-24 '</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">SectionTitle</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'featured products'</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ProductsGrid</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> FeaturedProducts;
</div></code></pre>
<p>ProductsGrid.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Link, useLoaderData } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">const</span> ProductsGrid = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { products } = useLoaderData();

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'pt-12 grid gap-4 md:grid-cols-2 lg:grid-cols-3 '</span>&gt;</span>
      {products.map((product) =&gt; {
        const { title, price, image } = product.attributes;
        const dollarsAmount = price;
        return (
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span>
            <span class="hljs-attr">key</span>=<span class="hljs-string">{product.id}</span>
            <span class="hljs-attr">to</span>=<span class="hljs-string">{</span>`/<span class="hljs-attr">products</span>/${<span class="hljs-attr">product.id</span>}`}
            <span class="hljs-attr">className</span>=<span class="hljs-string">'card w-full  shadow-xl hover:shadow-2xl transition duration-300 '</span>
          &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">figure</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'px-4 pt-4'</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
                <span class="hljs-attr">src</span>=<span class="hljs-string">{image}</span>
                <span class="hljs-attr">alt</span>=<span class="hljs-string">{title}</span>
                <span class="hljs-attr">className</span>=<span class="hljs-string">'rounded-xl h-64 md:h-48 w-full object-cover'</span>
              /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">figure</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'card-body items-center text-center'</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'card-title capitalize tracking-wider'</span>&gt;</span>{title}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-secondary'</span>&gt;</span>{dollarsAmount}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        );
      })}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ProductsGrid;
</div></code></pre>
<h2 id="challenge-21---format-price">Challenge (21) - Format Price</h2>
<ul>
<li>payment providers need in smallest unit
<ul>
<li>in this case cents</li>
</ul>
</li>
<li>in utils setup a function to format price</li>
<li>utilize in ProductsGrid</li>
</ul>
<h2 id="solution-21---format-price">Solution (21) - Format Price</h2>
<ul>
<li>utils/index.js</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> formatPrice = <span class="hljs-function">(<span class="hljs-params">price</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> dollarsAmount = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Intl</span>.NumberFormat(<span class="hljs-string">'en-US'</span>, {
    <span class="hljs-attr">style</span>: <span class="hljs-string">'currency'</span>,
    <span class="hljs-attr">currency</span>: <span class="hljs-string">'USD'</span>,
  }).format((price / <span class="hljs-number">100</span>).toFixed(<span class="hljs-number">2</span>));
  <span class="hljs-keyword">return</span> dollarsAmount;
};
</div></code></pre>
<h2 id="challenge-22---single-product">Challenge (22) - Single Product</h2>
<ul>
<li>complete in multiple steps</li>
<li>fetch and render single product</li>
<li>don't forget about the colors and amount options</li>
<li>extra credit - set amount options dynamically</li>
</ul>
<h3 id="singleproductjsx">SingleProduct.jsx</h3>
<ol>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>useLoaderData</code> from <code>'react-router-dom'</code>.</li>
<li>Import <code>formatPrice</code>, <code>customFetch</code>, and <code>useState</code> from <code>'../utils'</code>.</li>
<li>Import <code>Link</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Define Loader Function:</p>
<ul>
<li>Define a loader function that fetches product data based on the <code>params.id</code>.</li>
<li>Use <code>customFetch</code> to fetch the product data from <code>/products/${params.id}</code>.</li>
<li>Return an object containing the fetched product data.</li>
</ul>
</li>
<li>
<p>Create SingleProduct Component:</p>
<ul>
<li>Define a functional component named <code>SingleProduct</code>.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Inside the component, destructure the <code>product</code> data using <code>useLoaderData</code>.</li>
<li>Destructure attributes like <code>image</code>, <code>title</code>, <code>price</code>, <code>description</code>, <code>colors</code>, and <code>company</code>.</li>
<li>Create a <code>dollarsAmount</code> variable by formatting the <code>price</code> using <code>formatPrice</code>.</li>
<li>Use <code>useState</code> to manage the <code>productColor</code> and <code>amount</code> state.</li>
</ul>
</li>
<li>
<p>Display Product Information:</p>
<ul>
<li>Return a <code>section</code> element to encapsulate the component content.</li>
<li>Display breadcrumb navigation using <code>Link</code> components for Home and Products pages.</li>
</ul>
</li>
<li>
<p>Product Display:</p>
<ul>
<li>Create a <code>div</code> with classes for styling and a grid layout.</li>
<li>Display the product image using an <code>img</code> element with classes for styling.</li>
</ul>
</li>
<li>
<p>Product Info:</p>
<ul>
<li>Within a <code>div</code>, display the product title, company, and <code>dollarsAmount</code>.</li>
</ul>
</li>
<li>
<p>Description:</p>
<ul>
<li>Display the product description using a <code>p</code> element.</li>
</ul>
</li>
<li>
<p>Colors:</p>
<ul>
<li>Display available product colors using a <code>div</code> with classes for styling.</li>
<li>Map through the <code>colors</code> array and create a <code>button</code> for each color.</li>
<li>Add appropriate classes and styles for the color button based on the selected <code>productColor</code>.</li>
</ul>
</li>
<li>
<p>Amount:</p>
<ul>
<li>Display a dropdown for selecting the product amount using a <code>div</code>.</li>
<li>Use a <code>select</code> element with options for different amounts.</li>
<li>Set the value of the <code>select</code> to the <code>amount</code> state and handle changes with <code>handleAmount</code> function.</li>
</ul>
</li>
<li>
<p>Cart Button:</p>
<ul>
<li>Display an &quot;Add to bag&quot; button using a <code>button</code> element with appropriate classes and an <code>onClick</code> event handler.</li>
</ul>
</li>
<li>
<p>Export SingleProduct Component:</p>
<ul>
<li>Export the <code>SingleProduct</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-22---single-product">Solution (22) - Single Product</h2>
<ul>
<li>import and setup loader in the App.jsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useLoaderData } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> { formatPrice, customFetch } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">import</span> { Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader = <span class="hljs-keyword">async</span> ({ params }) =&gt; {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch(<span class="hljs-string">`/products/<span class="hljs-subst">${params.id}</span>`</span>);
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">product</span>: response.data.data };
};

<span class="hljs-keyword">const</span> SingleProduct = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { product } = useLoaderData();
  <span class="hljs-keyword">const</span> { image, title, price, description, colors, company } =
    product.attributes;
  <span class="hljs-keyword">const</span> dollarsAmount = formatPrice(price);
  <span class="hljs-keyword">const</span> [productColor, setProductColor] = useState(colors[<span class="hljs-number">0</span>]);
  <span class="hljs-keyword">const</span> [amount, setAmount] = useState(<span class="hljs-number">1</span>);

  <span class="hljs-keyword">const</span> handleAmount = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    setAmount(<span class="hljs-built_in">parseInt</span>(e.target.value));
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-md breadcrumbs'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/'</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/products'</span>&gt;</span>Products<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      {/* PRODUCT */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-6 grid gap-y-8 lg:grid-cols-2  lg:gap-x-16'</span>&gt;</span>
        {/* IMAGE */}
        <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
          <span class="hljs-attr">src</span>=<span class="hljs-string">{image}</span>
          <span class="hljs-attr">alt</span>=<span class="hljs-string">{title}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">'w-96 h-96 object-cover rounded-lg lg:w-full  '</span>
        /&gt;</span>
        {/* PRODUCT INFO */}
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'capitalize text-3xl font-bold'</span>&gt;</span>{title}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-xl text-neutral-content font-bold mt-2'</span>&gt;</span>
            {company}
          <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>

          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-3 text-xl'</span>&gt;</span>{dollarsAmount}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-6 leading-8'</span>&gt;</span>{description}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

          {/* COLORS */}
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-6'</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-md font-medium tracking-wider capitalize'</span>&gt;</span>
              colors
            <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-2'</span>&gt;</span>
              {colors.map((color) =&gt; {
                return (
                  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
                    <span class="hljs-attr">key</span>=<span class="hljs-string">{color}</span>
                    <span class="hljs-attr">type</span>=<span class="hljs-string">'button'</span>
                    <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">badge</span>  <span class="hljs-attr">w-6</span> <span class="hljs-attr">h-6</span> <span class="hljs-attr">mr-2</span>  ${
                      <span class="hljs-attr">color</span> === <span class="hljs-string">productColor</span> &amp;&amp; '<span class="hljs-attr">border-2</span> <span class="hljs-attr">border-secondary</span>'
                    }`}
                    <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">color</span> }}
                    <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setProductColor(color)}
                  &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                );
              })}
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          {/* AMOUNT */}
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'form-control w-full max-w-xs'</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label'</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-md font-medium tracking-wider capitalize'</span>&gt;</span>
                amount
              <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">'select select-secondary select-bordered select-md'</span>
              <span class="hljs-attr">value</span>=<span class="hljs-string">{amount}</span>
              <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleAmount}</span>
            &gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{1}</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{2}</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{3}</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          {/* CART BUTTON */}
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-10 '</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-secondary btn-md'</span>
              <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> console.log('add to bag')}
            &gt;
              Add to bag
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> SingleProduct;
</div></code></pre>
<!-- EXTRA CREDIT -->
<ul>
<li>rename to index.jsx</li>
</ul>
<p>index.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> generateAmountOptions = <span class="hljs-function">(<span class="hljs-params">number</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>.from({ <span class="hljs-attr">length</span>: number }, (_, index) =&gt; {
    <span class="hljs-keyword">const</span> amount = index + <span class="hljs-number">1</span>;

    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{amount}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{amount}</span>&gt;</span>
        {amount}
      <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span>
    );
  });
};
</div></code></pre>
<p>Array.from({ length: number }, (<em>, index) =&gt; { ... }): This part uses the Array.from method to create an array of a specific length, determined by the number parameter. The second argument of the Array.from method is a callback function that will be invoked for each element in the array. The underscore (</em>) is a placeholder for the current element (which we don't need in this case), and index is the index of the current element.</p>
<p>const amount = index + 1;: Inside the callback function, this line calculates the amount value based on the index. Since the index starts from 0 but you want amount to start from 1, you add 1 to the index.</p>
<h2 id="challenge-23---products-page-setup">Challenge (23) - Products Page (Setup)</h2>
<ul>
<li>create following components and render in products page
<ul>
<li>Filters</li>
<li>ProductsContainer</li>
<li>PaginationContainer</li>
</ul>
</li>
<li>in products page loader fetch all products</li>
</ul>
<h3 id="productsjsx">Products.jsx</h3>
<ol>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>Filters</code>, <code>PaginationContainer</code>, and <code>ProductsContainer</code> from <code>'../components'</code>.</li>
<li>Import <code>customFetch</code> from <code>'../utils'</code>.</li>
</ul>
</li>
<li>
<p>Define URL and Loader Function:</p>
<ul>
<li>Define a constant <code>url</code> containing the URL path to fetch products from.</li>
<li>Define a loader function that fetches product data from the defined URL.</li>
<li>Use <code>customFetch</code> to fetch the product data from the <code>url</code>.</li>
<li>Extract products and meta information from the response and return them.</li>
</ul>
</li>
<li>
<p>Create Products Component:</p>
<ul>
<li>Define a functional component named <code>Products</code>.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Return a <code>Fragment</code> element (<code>&lt;&gt;...&lt;/&gt;</code>) to wrap the component content.</li>
</ul>
</li>
<li>
<p>Filters Component:</p>
<ul>
<li>Include the <code>Filters</code> component to allow users to apply filters to the product list.</li>
</ul>
</li>
<li>
<p>ProductsContainer Component:</p>
<ul>
<li>Include the <code>ProductsContainer</code> component to display the list of products.</li>
</ul>
</li>
<li>
<p>PaginationContainer Component:</p>
<ul>
<li>Include the <code>PaginationContainer</code> component to manage product list pagination.</li>
</ul>
</li>
<li>
<p>Export Products Component:</p>
<ul>
<li>Export the <code>Products</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-23---products-page-setup">Solution (23) - Products Page (Setup)</h2>
<ul>
<li>import and setup loader in app.jsx</li>
</ul>
<p>Products.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Filters, PaginationContainer, ProductsContainer } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;
<span class="hljs-keyword">import</span> { customFetch } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;

<span class="hljs-keyword">const</span> url = <span class="hljs-string">'/products'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader = <span class="hljs-keyword">async</span> ({ request }) =&gt; {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch(url);

  <span class="hljs-keyword">const</span> products = response.data.data;
  <span class="hljs-keyword">const</span> meta = response.data.meta;
  <span class="hljs-keyword">return</span> { products, meta };
};

<span class="hljs-keyword">const</span> Products = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Filters</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ProductsContainer</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PaginationContainer</span> /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Products;
</div></code></pre>
<h2 id="challenge-24---products-container">Challenge (24) - Products Container</h2>
<ul>
<li>create ProductsList and render products in one column</li>
<li>setup header (with total jobs and toggle buttons)</li>
<li>toggle between ProductsGrid and ProductsList</li>
</ul>
<h3 id="productslistjsx">ProductsList.jsx</h3>
<ol>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>formatPrice</code> from <code>'../utils'</code>.</li>
<li>Import <code>Link</code> and <code>useLoaderData</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Create ProductList Component:</p>
<ul>
<li>Define a functional component named <code>ProductList</code>.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Return a <code>div</code> element containing a list of products.</li>
</ul>
</li>
<li>
<p>Loop Through Products:</p>
<ul>
<li>Use the <code>useLoaderData</code> hook to get the <code>products</code> data from the loader.</li>
<li>Use the <code>map</code> function to loop through each product in the <code>products</code> array.</li>
</ul>
</li>
<li>
<p>Product Link:</p>
<ul>
<li>For each product, create a <code>Link</code> element that links to the individual product page.</li>
<li>Use the <code>product.id</code> as the link path (<code>to={</code>/products/${product.id}<code>}</code>).</li>
<li>Add CSS classes to style the link and apply hover effects.</li>
</ul>
</li>
<li>
<p>Product Image:</p>
<ul>
<li>Display the product image inside an <code>img</code> element.</li>
<li>Apply appropriate classes for styling and responsive design.</li>
<li>Add hover effect to the image using CSS classes.</li>
</ul>
</li>
<li>
<p>Product Details:</p>
<ul>
<li>Display the product title and company using <code>h3</code> and <code>h4</code> elements.</li>
<li>Add classes for font styles and responsiveness.</li>
</ul>
</li>
<li>
<p>Product Price:</p>
<ul>
<li>Display the formatted price using the <code>formatPrice</code> function.</li>
<li>Use a <code>p</code> element with appropriate classes for styling.</li>
</ul>
</li>
<li>
<p>Export ProductList Component:</p>
<ul>
<li>Export the <code>ProductList</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h3 id="productscontainerjsx">ProductsContainer.jsx</h3>
<ol>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>useLoaderData</code> from <code>'react-router-dom'</code>.</li>
<li>Import <code>ProductsGrid</code> and <code>ProductsList</code> from their respective paths.</li>
<li>Import <code>useState</code> from <code>'react'</code>.</li>
<li>Import <code>BsFillGridFill</code> and <code>BsList</code> from <code>'react-icons/bs'</code>.</li>
</ul>
</li>
<li>
<p>Create ProductsContainer Component:</p>
<ul>
<li>Define a functional component named <code>ProductsContainer</code>.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Return a <code>div</code> element containing the products container.</li>
</ul>
</li>
<li>
<p>Total Products Count:</p>
<ul>
<li>Use the <code>useLoaderData</code> hook to get the <code>meta</code> data from the loader.</li>
<li>Extract the <code>total</code> count of products from <code>meta.pagination</code>.</li>
<li>Use a conditional statement to handle the plural form of the word &quot;product&quot;.</li>
</ul>
</li>
<li>
<p>Layout State and Styles:</p>
<ul>
<li>Use the <code>useState</code> hook to manage the layout state (grid or list).</li>
<li>Create a helper function <code>setActiveStyles</code> to generate the CSS classes based on the active layout.</li>
<li>Return appropriate CSS classes for active and inactive layouts.</li>
</ul>
</li>
<li>
<p>Header Section:</p>
<ul>
<li>Create a <code>div</code> for the header section containing the product count and layout buttons.</li>
<li>Display the total number of products using the extracted <code>totalProducts</code> count.</li>
<li>Create a button for grid layout and a button for list layout.</li>
<li>Attach click event handlers to the buttons to set the layout state.</li>
</ul>
</li>
<li>
<p>Products Display:</p>
<ul>
<li>Create a <code>div</code> to display the products.</li>
<li>Use conditional rendering to handle cases where no products match the search or when products are present.</li>
<li>If no products match the search, display a message.</li>
<li>If products are present and the layout is 'grid', display the <code>ProductsGrid</code> component.</li>
<li>If products are present and the layout is 'list', display the <code>ProductsList</code> component.</li>
</ul>
</li>
<li>
<p>Export ProductsContainer Component:</p>
<ul>
<li>Export the <code>ProductsContainer</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-24---products-container">Solution (24) - Products Container</h2>
<p>ProductsList.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { formatPrice } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">import</span> { Link, useLoaderData } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> ProductList = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { products } = useLoaderData();
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-12 grid gap-y-8'</span>&gt;</span>
      {products.map((product) =&gt; {
        const { title, price, image, company } = product.attributes;
        const dollarsAmount = formatPrice(price);

        return (
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span>
            <span class="hljs-attr">key</span>=<span class="hljs-string">{product.id}</span>
            <span class="hljs-attr">to</span>=<span class="hljs-string">{</span>`/<span class="hljs-attr">products</span>/${<span class="hljs-attr">product.id</span>}`}
            <span class="hljs-attr">className</span>=<span class="hljs-string">'p-8 rounded-lg flex flex-col sm:flex-row gap-y-4 flex-wrap bg-base-100 shadow-xl hover:shadow-2xl duration-300 group'</span>
          &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
              <span class="hljs-attr">src</span>=<span class="hljs-string">{image}</span>
              <span class="hljs-attr">alt</span>=<span class="hljs-string">{title}</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">'h-24 w-24 rounded-lg sm:h-32 sm:w-32 object-cover group-hover:scale-105 transition duration-300'</span>
            /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'ml-0 sm:ml-16'</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'capitalize font-medium text-lg'</span>&gt;</span>{title}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'capitalize text-md text-neutral-content'</span>&gt;</span>
                {company}
              <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>

              {/* COLOR */}
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-medium ml-0 sm:ml-auto text-lg'</span>&gt;</span>
              {dollarsAmount}
            <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        );
      })}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ProductList;
</div></code></pre>
<p>ProductsContainer.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useLoaderData } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> ProductsGrid <span class="hljs-keyword">from</span> <span class="hljs-string">'./ProductsGrid'</span>;
<span class="hljs-keyword">import</span> ProductsList <span class="hljs-keyword">from</span> <span class="hljs-string">'./ProductsList'</span>;
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { BsFillGridFill, BsList } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-icons/bs'</span>;

<span class="hljs-keyword">const</span> ProductsContainer = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { meta } = useLoaderData();
  <span class="hljs-keyword">const</span> totalProducts = meta.pagination.total;
  <span class="hljs-keyword">const</span> [layout, setLayout] = useState(<span class="hljs-string">'grid'</span>);

  <span class="hljs-keyword">const</span> setActiveStyles = <span class="hljs-function">(<span class="hljs-params">pattern</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`text-xl btn btn-circle btn-sm <span class="hljs-subst">${
      pattern === layout
        ? <span class="hljs-string">'btn-primary text-primary-content'</span>
        : <span class="hljs-string">'btn-ghost text-base-content'</span>
    }</span>`</span>;
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      {/* HEADER */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'flex justify-between items-center mt-8 border-b border-base-300 pb-5'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-medium text-md'</span>&gt;</span>
          {totalProducts} product{totalProducts &gt; 1 &amp;&amp; 's'}
        <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'flex gap-x-2'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setLayout('grid')}
            className={setActiveStyles('grid')}
          &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">BsFillGridFill</span> /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setLayout('list')}
            className={setActiveStyles('list')}
          &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">BsList</span> /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      {/* PRODUCTS */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        {totalProducts === 0 ? (
          <span class="hljs-tag">&lt;<span class="hljs-name">h5</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-2xl mt-16'</span>&gt;</span>
            Sorry, no products matched your search...
          <span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span>
        ) : layout === 'grid' ? (
          <span class="hljs-tag">&lt;<span class="hljs-name">ProductsGrid</span> /&gt;</span>
        ) : (
          <span class="hljs-tag">&lt;<span class="hljs-name">ProductsList</span> /&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ProductsContainer;
</div></code></pre>
<h2 id="challenge-25---filters-search-input">Challenge (25) - Filters (Search Input)</h2>
<ul>
<li>add size to prop FormInput.jsx</li>
<li>render search input, submit button and reset button</li>
</ul>
<h2 id="solution-25---filters-search-input">Solution (25) - Filters (Search Input)</h2>
<p>FormInput.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> FormInput = <span class="hljs-function">(<span class="hljs-params">{ label, name, type, defaultValue, size }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'form-control'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">{name}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label-text capitalize'</span>&gt;</span>{label}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">{type}</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span>
        <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{defaultValue}</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">input</span> <span class="hljs-attr">input-bordered</span> ${<span class="hljs-attr">size</span>}`}
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> FormInput;
</div></code></pre>
<p>Filters.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Form, useLoaderData, Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> FormInput <span class="hljs-keyword">from</span> <span class="hljs-string">'./FormInput'</span>;

<span class="hljs-keyword">const</span> Filters = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Form</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'bg-base-200 rounded-md px-8 py-4 grid gap-x-4 gap-y-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 items-center'</span>&gt;</span>
      {/* SEARCH */}
      <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">'search'</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">'search product'</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">'search'</span>
        <span class="hljs-attr">size</span>=<span class="hljs-string">'input-sm'</span>
      /&gt;</span>
      {/* BUTTONS */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'submit'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-primary btn-sm '</span>&gt;</span>
        search
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/products'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-accent btn-sm'</span>&gt;</span>
        reset
      <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Filters;
</div></code></pre>
<h2 id="challenge-26---filters-select-input">Challenge (26) - Filters (Select Input)</h2>
<ul>
<li>setup input for select input</li>
<li>render for categories, companies and order</li>
<li>companies and categories values are located in meta</li>
</ul>
<h3 id="formselectjsx">FormSelect.jsx</h3>
<ol>
<li>
<p>Create FormSelect Component:</p>
<ul>
<li>Define a functional component named <code>FormSelect</code>.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Return a <code>div</code> element containing the form select input.</li>
</ul>
</li>
<li>
<p>Props:</p>
<ul>
<li>Accept the following props: <code>label</code>, <code>name</code>, <code>list</code>, <code>defaultValue</code>, and <code>size</code>.</li>
</ul>
</li>
<li>
<p>Label:</p>
<ul>
<li>Create a <code>label</code> element with a <code>for</code> attribute matching the <code>name</code> prop.</li>
<li>Display the capitalized label text using the <code>label</code> prop.</li>
</ul>
</li>
<li>
<p>Select Input:</p>
<ul>
<li>Create a <code>select</code> element for the input field.</li>
<li>Set the <code>name</code> and <code>id</code> attributes to the value of the <code>name</code> prop.</li>
<li>Apply the appropriate CSS classes for the select input using the <code>size</code> prop.</li>
<li>Set the <code>defaultValue</code> of the select input using the <code>defaultValue</code> prop.</li>
</ul>
</li>
<li>
<p>Options:</p>
<ul>
<li>Map through the <code>list</code> prop array to generate individual <code>option</code> elements.</li>
<li>Use each item in the <code>list</code> as the <code>key</code> and <code>value</code> attributes of the <code>option</code> element.</li>
</ul>
</li>
<li>
<p>Export FormSelect Component:</p>
<ul>
<li>Export the <code>FormSelect</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-26---filters-select-input">Solution (26) - Filters (Select Input)</h2>
<p>FormSelect.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> FormSelect = <span class="hljs-function">(<span class="hljs-params">{ label, name, list, defaultValue, size }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'form-control'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">{name}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label-text capitalize'</span>&gt;</span>{label}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">select</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span>
        <span class="hljs-attr">id</span>=<span class="hljs-string">{name}</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">select</span> <span class="hljs-attr">select-bordered</span> ${<span class="hljs-attr">size</span>}`}
        <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{defaultValue}</span>
      &gt;</span>
        {list.map((item) =&gt; {
          return (
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{item}</span>&gt;</span>
              {item}
            <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          );
        })}
      <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> FormSelect;
</div></code></pre>
<p>Filters.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> { meta } = useLoaderData();

{
  <span class="hljs-comment">/* CATEGORIES */</span>
}
&lt;FormSelect
  label=<span class="hljs-string">'select category'</span>
  name=<span class="hljs-string">'category'</span>
  list={meta.categories}
  size=<span class="hljs-string">'select-sm'</span>
/&gt;;
{
  <span class="hljs-comment">/* COMPANIES */</span>
}
&lt;FormSelect
  label=<span class="hljs-string">'select company'</span>
  name=<span class="hljs-string">'company'</span>
  list={meta.companies}
  size=<span class="hljs-string">'select-sm'</span>
/&gt;;
{
  <span class="hljs-comment">/* ORDER */</span>
}
&lt;FormSelect
  label=<span class="hljs-string">'sort by'</span>
  name=<span class="hljs-string">'order'</span>
  list={[<span class="hljs-string">'a-z'</span>, <span class="hljs-string">'z-a'</span>, <span class="hljs-string">'high'</span>, <span class="hljs-string">'low'</span>]}
  size=<span class="hljs-string">'select-sm'</span>
/&gt;;
</div></code></pre>
<h2 id="challenge-27---filters-price">Challenge (27) - Filters (Price)</h2>
<ul>
<li>create range input (hint: you will need local state)</li>
</ul>
<h3 id="formrangejsx">FormRange.jsx</h3>
<ol>
<li>
<p>Create FormRange Component:</p>
<ul>
<li>Define a functional component named <code>FormRange</code>.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Return a <code>div</code> element containing the form range input and related elements.</li>
</ul>
</li>
<li>
<p>Props:</p>
<ul>
<li>Accept the following props: <code>label</code>, <code>name</code>, and <code>size</code>.</li>
</ul>
</li>
<li>
<p>Default Values:</p>
<ul>
<li>Define default values for <code>step</code>, <code>maxPrice</code>, and <code>selectedPrice</code>.</li>
</ul>
</li>
<li>
<p>Label and Selected Price Display:</p>
<ul>
<li>Create a <code>label</code> element with a <code>for</code> attribute matching the <code>name</code> prop.</li>
<li>Display the capitalized label text using the <code>label</code> prop.</li>
<li>Display the selected price using the <code>formatPrice</code> function.</li>
</ul>
</li>
<li>
<p>Range Input:</p>
<ul>
<li>Create an <code>input</code> element with <code>type</code> set to <code>'range'</code>.</li>
<li>Set the <code>name</code>, <code>min</code>, <code>max</code>, <code>value</code>, and <code>step</code> attributes.</li>
<li>Use the <code>selectedPrice</code> state for the <code>value</code> attribute.</li>
<li>Set the <code>onChange</code> event handler to update <code>selectedPrice</code>.</li>
</ul>
</li>
<li>
<p>Min and Max Price Display:</p>
<ul>
<li>Create a <code>div</code> element for displaying minimum and maximum price values.</li>
<li>Use the <code>formatPrice</code> function for formatting and displaying max price.</li>
</ul>
</li>
<li>
<p>Export FormRange Component:</p>
<ul>
<li>Export the <code>FormRange</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-27---filters-price">Solution (27) - Filters (Price )</h2>
<p>FormRange.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { formatPrice } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">const</span> FormRange = <span class="hljs-function">(<span class="hljs-params">{ label, name, size }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> step = <span class="hljs-number">1000</span>;
  <span class="hljs-keyword">const</span> maxPrice = <span class="hljs-number">100000</span>;
  <span class="hljs-keyword">const</span> [selectedPrice, setSelectedPrice] = useState(maxPrice);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'form-control'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">{name}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label cursor-pointer'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label-text capitalize'</span>&gt;</span>{label}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{formatPrice(selectedPrice)}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">'range'</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span>
        <span class="hljs-attr">min</span>=<span class="hljs-string">{0}</span>
        <span class="hljs-attr">max</span>=<span class="hljs-string">{maxPrice}</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">{selectedPrice}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setSelectedPrice(e.target.value)}
        className={`range range-primary ${size}`}
        step={step}
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'w-full flex justify-between text-xs px-2 mt-2'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-bold text-md'</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-bold text-md'</span>&gt;</span>Max : {formatPrice(maxPrice)}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> FormRange;
</div></code></pre>
<p>Filters.jsx</p>
<pre class="hljs"><code><div>{
  <span class="hljs-comment">/* PRICE */</span>
}
&lt;FormRange label=<span class="hljs-string">'select price'</span> name=<span class="hljs-string">'price'</span> size=<span class="hljs-string">'range-sm'</span> /&gt;;
</div></code></pre>
<h2 id="challenge-28---filters-shipping">Challenge (28) - Filters (Shipping)</h2>
<ul>
<li>create checkbox input</li>
</ul>
<h3 id="formcheckboxjsx">FormCheckbox.jsx</h3>
<ol>
<li>
<p>Create FormCheckbox Component:</p>
<ul>
<li>Define a functional component named <code>FormCheckbox</code>.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Return a <code>div</code> element containing the form checkbox input and related elements.</li>
</ul>
</li>
<li>
<p>Props:</p>
<ul>
<li>Accept the following props: <code>label</code>, <code>name</code>, <code>defaultValue</code>, and <code>size</code>.</li>
</ul>
</li>
<li>
<p>Label Display:</p>
<ul>
<li>Create a <code>label</code> element with a <code>for</code> attribute matching the <code>name</code> prop.</li>
<li>Display the capitalized label text using the <code>label</code> prop.</li>
</ul>
</li>
<li>
<p>Checkbox Input:</p>
<ul>
<li>Create an <code>input</code> element with <code>type</code> set to <code>'checkbox'</code>.</li>
<li>Set the <code>name</code> attribute to match the <code>name</code> prop.</li>
<li>Set the <code>defaultChecked</code> attribute using the <code>defaultValue</code> prop.</li>
<li>Use the <code>size</code> prop to determine the checkbox size class.</li>
</ul>
</li>
<li>
<p>Styling and Layout:</p>
<ul>
<li>Apply appropriate classes to style and position the form control items.</li>
</ul>
</li>
<li>
<p>Export FormCheckbox Component:</p>
<ul>
<li>Export the <code>FormCheckbox</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-28---filters-shipping">Solution (28) - Filters (Shipping)</h2>
<p>FormCheckbox.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> FormCheckbox = <span class="hljs-function">(<span class="hljs-params">{ label, name, defaultValue, size }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'form-control items-center'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">{name}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label cursor-pointer'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label-text capitalize'</span>&gt;</span>{label}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">'checkbox'</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span>
        <span class="hljs-attr">defaultChecked</span>=<span class="hljs-string">{defaultValue}</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">checkbox</span> <span class="hljs-attr">checkbox-primary</span> ${<span class="hljs-attr">size</span>}`}
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> FormCheckbox;
</div></code></pre>
<p>Filters.jsx</p>
<pre class="hljs"><code><div>{
  <span class="hljs-comment">/* SHIPPING */</span>
}
&lt;FormCheckbox label=<span class="hljs-string">'free shipping'</span> name=<span class="hljs-string">'shipping'</span> size=<span class="hljs-string">'checkbox-sm'</span> /&gt;;
</div></code></pre>
<h2 id="challenge-29---global-loading">Challenge (29) - Global Loading</h2>
<ul>
<li>create loading component</li>
<li>check for loading state in HomeLayout</li>
<li>toggle between loading and <Outlet></li>
</ul>
<h3 id="loadingjsx">Loading.jsx</h3>
<ol>
<li>
<p>Create Loading Component:</p>
<ul>
<li>Define a functional component named &quot;Loading&quot;.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Return a &quot;div&quot; element with CSS classes to center content both vertically and horizontally.</li>
</ul>
</li>
<li>
<p>Loading Animation:</p>
<ul>
<li>Inside the &quot;div&quot;, include a &quot;span&quot; element with the classes &quot;loading loading-ring loading-lg&quot;.</li>
<li>This applies a loading animation to create the visual effect.</li>
</ul>
</li>
<li>
<p>Styling:</p>
<ul>
<li>Use the provided CSS classes to style the loading animation.</li>
</ul>
</li>
<li>
<p>Export Loading Component:</p>
<ul>
<li>Export the &quot;Loading&quot; component as the default export of the module.</li>
</ul>
</li>
</ol>
<h3 id="homelayoutjsx">HomeLayout.jsx</h3>
<ol>
<li>
<p>Create HomeLayout Component:</p>
<ul>
<li>Define a functional component named &quot;HomeLayout&quot;.</li>
</ul>
</li>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import &quot;Outlet&quot; and &quot;useNavigation&quot; from 'react-router-dom'.</li>
<li>Import &quot;Navbar&quot;, &quot;Loading&quot;, and &quot;Header&quot; from '../components'.</li>
</ul>
</li>
<li>
<p>Component Structure:</p>
<ul>
<li>Return a fragment ('&lt;&gt;...&lt;/&gt;') to encapsulate the component's content.</li>
</ul>
</li>
<li>
<p>UseNavigation Hook:</p>
<ul>
<li>Use the &quot;useNavigation&quot; hook to access the navigation state.</li>
<li>Store whether the page is currently loading in &quot;isPageLoading&quot; variable.</li>
</ul>
</li>
<li>
<p>Conditional Rendering:</p>
<ul>
<li>Use a ternary operator to conditionally render content:
<ul>
<li>If &quot;isPageLoading&quot; is true, render the &quot;Loading&quot; component.</li>
<li>Otherwise, render a &quot;section&quot; element with CSS classes and include the &quot;Outlet&quot; component.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Header and Navbar:</p>
<ul>
<li>Include the &quot;Header&quot; and &quot;Navbar&quot; components at the beginning of the component.</li>
</ul>
</li>
<li>
<p>Styling:</p>
<ul>
<li>Apply CSS classes to style the layout and align its elements.</li>
</ul>
</li>
<li>
<p>Export HomeLayout Component:</p>
<ul>
<li>Export the &quot;HomeLayout&quot; component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-29---global-loading">Solution (29) - Global Loading</h2>
<p>Loading.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> Loading = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'h-screen flex items-center justify-center'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'loading loading-ring loading-lg'</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Loading;
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Outlet, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> { Navbar, Loading, Header } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;
<span class="hljs-keyword">const</span> HomeLayout = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> navigation = useNavigation();
  <span class="hljs-keyword">const</span> isPageLoading = navigation.state === <span class="hljs-string">'loading'</span>;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Navbar</span> /&gt;</span>
      {isPageLoading ? (
        <span class="hljs-tag">&lt;<span class="hljs-name">Loading</span> /&gt;</span>
      ) : (
        <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'align-element py-20'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> HomeLayout;
</div></code></pre>
<h2 id="challenge-30---setup-params">Challenge (30) - Setup Params</h2>
<ul>
<li>explore how to filter products
<a href="https://documenter.getpostman.com/view/18152321/2s9Xy5KpTi#80a47ff5-cc24-494b-89e0-02cd92acc226">API DOCS</a></li>
<li>test in Thunder Client</li>
<li>access params in loader</li>
<li>use params in customFetch</li>
<li>pass params down</li>
<li>use params as default values (price in FormRange)</li>
<li>setup reset button</li>
</ul>
<h2 id="solution-30---setup-params">Solution (30) - Setup Params</h2>
<p>Products.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader = <span class="hljs-keyword">async</span> ({ request }) =&gt; {
  <span class="hljs-keyword">const</span> params = <span class="hljs-built_in">Object</span>.fromEntries([
    ...new URL(request.url).searchParams.entries(),
  ]);
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch(url, { params });

  <span class="hljs-keyword">const</span> products = response.data.data;
  <span class="hljs-keyword">const</span> meta = response.data.meta;

  <span class="hljs-keyword">return</span> { products, meta, params };
};
</div></code></pre>
<p>Filters.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Form, useLoaderData, Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> FormInput <span class="hljs-keyword">from</span> <span class="hljs-string">'./FormInput'</span>;
<span class="hljs-keyword">import</span> FormSelect <span class="hljs-keyword">from</span> <span class="hljs-string">'./FormSelect'</span>;
<span class="hljs-keyword">import</span> FormRange <span class="hljs-keyword">from</span> <span class="hljs-string">'./FormRange'</span>;
<span class="hljs-keyword">import</span> FormCheckbox <span class="hljs-keyword">from</span> <span class="hljs-string">'./FormCheckbox'</span>;
<span class="hljs-keyword">const</span> Filters = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { meta, params } = useLoaderData();
  <span class="hljs-keyword">const</span> { search, company, category, shipping, order, price } = params;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Form</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'bg-base-200 rounded-md px-8 py-4 grid gap-x-4 gap-y-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 items-center'</span>&gt;</span>
      {/* SEARCH */}
      <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">'search'</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">'search product'</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">'search'</span>
        <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{search}</span>
        <span class="hljs-attr">size</span>=<span class="hljs-string">'input-sm'</span>
      /&gt;</span>
      {/* CATEGORIES */}
      <span class="hljs-tag">&lt;<span class="hljs-name">FormSelect</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">'select category'</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">'category'</span>
        <span class="hljs-attr">list</span>=<span class="hljs-string">{meta.categories}</span>
        <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{category}</span>
        <span class="hljs-attr">size</span>=<span class="hljs-string">'select-sm'</span>
      /&gt;</span>
      {/* COMPANIES */}
      <span class="hljs-tag">&lt;<span class="hljs-name">FormSelect</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">'select company'</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">'company'</span>
        <span class="hljs-attr">list</span>=<span class="hljs-string">{meta.companies}</span>
        <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{company}</span>
        <span class="hljs-attr">size</span>=<span class="hljs-string">'select-sm'</span>
      /&gt;</span>
      {/* ORDER */}
      <span class="hljs-tag">&lt;<span class="hljs-name">FormSelect</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">'sort by'</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">'order'</span>
        <span class="hljs-attr">list</span>=<span class="hljs-string">{[</span>'<span class="hljs-attr">a-z</span>', '<span class="hljs-attr">z-a</span>', '<span class="hljs-attr">high</span>', '<span class="hljs-attr">low</span>']}
        <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{order}</span>
        <span class="hljs-attr">size</span>=<span class="hljs-string">'select-sm'</span>
      /&gt;</span>
      {/* PRICE */}
      <span class="hljs-tag">&lt;<span class="hljs-name">FormRange</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">'select price'</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">'price'</span>
        <span class="hljs-attr">price</span>=<span class="hljs-string">{price}</span>
        <span class="hljs-attr">size</span>=<span class="hljs-string">'range-sm'</span>
      /&gt;</span>
      {/* SHIPPING */}
      <span class="hljs-tag">&lt;<span class="hljs-name">FormCheckbox</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">'free shipping'</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">'shipping'</span>
        <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{shipping}</span>
        <span class="hljs-attr">size</span>=<span class="hljs-string">'checkbox-sm'</span>
      /&gt;</span>
      {/* BUTTONS */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'submit'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-primary btn-sm'</span>&gt;</span>
        search
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/products'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-accent btn-sm'</span>&gt;</span>
        reset
      <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Filters;
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> params = <span class="hljs-built_in">Object</span>.fromEntries([
  ...new URL(request.url).searchParams.entries(),
]);
</div></code></pre>
<p>It takes a URL string from the request.url property.
It creates a URL object from that URL string.
It extracts the query parameters using the searchParams property.
It converts the query parameters into an iterable of key-value pairs using the entries() method.
It spreads these key-value pairs into an array.
It uses Object.fromEntries() to create a new object where the key-value pairs become properties of the object.</p>
<h2 id="challenge-31---pagination">Challenge (31) - Pagination</h2>
<ul>
<li>explore how to paginate</li>
<li>test in Thunder Client</li>
<li>access meta</li>
<li>display next, prev and page buttons</li>
<li>add page value to query params</li>
</ul>
<h2 id="building-the-paginationcontainer-component">Building the PaginationContainer Component</h2>
<ol>
<li>Import Required Modules:</li>
</ol>
<ul>
<li>Import hooks and modules from <code>react-router-dom</code>:
<ul>
<li><code>useLoaderData</code></li>
<li><code>useLocation</code></li>
<li><code>useNavigate</code></li>
</ul>
</li>
</ul>
<ol start="2">
<li>Initialize Component:</li>
</ol>
<ul>
<li>Create a functional component named <code>PaginationContainer</code>.</li>
</ul>
<ol start="3">
<li>Retrieve Data with Hooks:</li>
</ol>
<ul>
<li>Use the <code>useLoaderData</code> hook to get the <code>meta</code> data.</li>
<li>Destructure <code>pageCount</code> and <code>page</code> from <code>meta.pagination</code>.</li>
<li>Use the <code>useLocation</code> hook to get <code>search</code> and <code>pathname</code>.</li>
<li>Use the <code>useNavigate</code> hook to get the <code>navigate</code> function.</li>
</ul>
<ol start="4">
<li>Generate Pages Array:</li>
</ol>
<ul>
<li>Create an array called <code>pages</code> using <code>Array.from()</code>.
<ul>
<li>This represents all the page numbers.</li>
</ul>
</li>
</ul>
<ol start="5">
<li>Handle Page Change:</li>
</ol>
<ul>
<li>Create a function <code>handlePageChange</code> that takes <code>pageNumber</code> as an argument.
<ul>
<li>Update the URL's query string parameter <code>page</code> with the new page number.</li>
<li>Navigate to the updated URL.</li>
</ul>
</li>
</ul>
<ol start="6">
<li>Conditional Rendering:</li>
</ol>
<ul>
<li>If <code>pageCount</code> is less than 2:
<ul>
<li>Return <code>null</code>.</li>
</ul>
</li>
</ul>
<ol start="7">
<li>Render Pagination Component:</li>
</ol>
<ul>
<li>Render a <code>div</code> container with the class <code>mt-16 flex justify-end</code>.
<ul>
<li>Inside this, render another <code>div</code> with class <code>join</code>.
<ul>
<li>For &quot;Prev&quot; button:
<ul>
<li>Use the class <code>btn btn-xs sm:btn-md join-item</code>.</li>
</ul>
</li>
<li>For page numbers:
<ul>
<li>Use the class <code>btn btn-xs sm:btn-md border-none join-item</code>.</li>
<li>Highlight the current page with classes <code>bg-base-300 border-base-300</code>.</li>
</ul>
</li>
<li>For &quot;Next&quot; button:
<ul>
<li>Use the class <code>btn btn-xs sm:btn-md join-item</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="8">
<li>Export Component:</li>
</ol>
<ul>
<li>Export the <code>PaginationContainer</code> component.</li>
</ul>
<h2 id="solution-31---pagination">Solution (31) - Pagination</h2>
<p>PaginationContainer.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useLoaderData, useLocation, useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> PaginationContainer = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { meta } = useLoaderData();
  <span class="hljs-keyword">const</span> { pageCount, page } = meta.pagination;
  <span class="hljs-keyword">const</span> pages = <span class="hljs-built_in">Array</span>.from({ <span class="hljs-attr">length</span>: pageCount }, (_, index) =&gt; {
    <span class="hljs-keyword">return</span> index + <span class="hljs-number">1</span>;
  });
  <span class="hljs-keyword">const</span> { search, pathname } = useLocation();
  <span class="hljs-keyword">const</span> navigate = useNavigate();

  <span class="hljs-keyword">const</span> handlePageChange = <span class="hljs-function">(<span class="hljs-params">pageNumber</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> searchParams = <span class="hljs-keyword">new</span> URLSearchParams(search);
    searchParams.set(<span class="hljs-string">'page'</span>, pageNumber);
    navigate(<span class="hljs-string">`<span class="hljs-subst">${pathname}</span>?<span class="hljs-subst">${searchParams.toString()}</span>`</span>);
  };

  <span class="hljs-keyword">if</span> (pageCount &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-16 flex justify-end'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'join'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-xs sm:btn-md join-item'</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
            let prevPage = page - 1;
            if (prevPage <span class="hljs-tag">&lt; <span class="hljs-attr">1</span>) <span class="hljs-attr">prevPage</span> = <span class="hljs-string">pageCount;</span>
            <span class="hljs-attr">handlePageChange</span>(<span class="hljs-attr">prevPage</span>);
          }}
        &gt;</span>
          Prev
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        {pages.map((pageNumber) =&gt; {
          return (
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
              <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handlePageChange(pageNumber)}
              key={pageNumber}
              className={`btn btn-xs sm:btn-md border-none join-item ${
                pageNumber === page ? 'bg-base-300 border-base-300' : ''
              }`}
            &gt;
              {pageNumber}
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          );
        })}
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-xs sm:btn-md join-item'</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
            let nextPage = page + 1;
            if (nextPage &gt; pageCount) nextPage = 1;
            handlePageChange(nextPage);
          }}
        &gt;
          Next
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> PaginationContainer;
</div></code></pre>
<h2 id="challenge-32---setup-rtk-and-react-toastify">Challenge (32) - Setup RTK and react-toastify</h2>
<ul>
<li>create features/cart/cartSlice.js</li>
<li>setup default state (README) and reducers</li>
<li>export actions and cartSlice.reducer</li>
<li>create store.js and add cartSlice</li>
<li>setup RTK and react-toastify in main.jsx</li>
</ul>
<h2 id="building-the-cartslice-redux-slice">Building the <code>cartSlice</code> Redux Slice</h2>
<ol>
<li><strong>Import Required Modules</strong>:</li>
</ol>
<ul>
<li>Import functions from specific libraries:
<ul>
<li><code>createSlice</code> from <code>@reduxjs/toolkit</code></li>
<li><code>toast</code> from <code>react-toastify</code></li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>Initialize Default State</strong>:</li>
</ol>
<ul>
<li>Create a <code>defaultState</code> object with the following properties:
<ul>
<li><code>cartItems</code> (array)</li>
<li><code>numItemsInCart</code> (integer)</li>
<li><code>cartTotal</code> (integer)</li>
<li><code>shipping</code> (fixed value: 500)</li>
<li><code>tax</code> (integer)</li>
<li><code>orderTotal</code> (integer)</li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>Create the Redux Slice</strong>:</li>
</ol>
<ul>
<li>Use the <code>createSlice</code> function to create the <code>cartSlice</code>.
<ul>
<li>Name it as <code>'cart'</code>.</li>
<li>Use the previously created <code>defaultState</code> as the <code>initialState</code>.</li>
<li>Define several reducer functions within it:
<ul>
<li><code>addItem</code>: Logs the payload when an item is added.</li>
<li><code>clearCart</code>: Intended to clear all items from the cart.</li>
<li><code>removeItem</code>: Intended to remove a specific item.</li>
<li><code>editItem</code>: Intended to edit a specific item.</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="4">
<li><strong>Export Actions</strong>:</li>
</ol>
<ul>
<li>Destructure and export the following actions:
<ul>
<li><code>addItem</code></li>
<li><code>removeItem</code></li>
<li><code>editItem</code></li>
<li><code>clearCart</code></li>
</ul>
</li>
</ul>
<ol start="5">
<li><strong>Export Reducer</strong>:</li>
</ol>
<ul>
<li>Export the reducer generated by <code>cartSlice</code> for usage in the Redux store.</li>
</ul>
<h2 id="solution-32---setup-rtk-and-react-toastify">Solution (32) - Setup RTK and react-toastify</h2>
<p>features/cart/cartSlice.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createSlice } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;

<span class="hljs-keyword">const</span> defaultState = {
  <span class="hljs-attr">cartItems</span>: [],
  <span class="hljs-attr">numItemsInCart</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">cartTotal</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">shipping</span>: <span class="hljs-number">500</span>,
  <span class="hljs-attr">tax</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">orderTotal</span>: <span class="hljs-number">0</span>,
};

<span class="hljs-keyword">const</span> cartSlice = createSlice({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'cart'</span>,
  <span class="hljs-attr">initialState</span>: defaultState,
  <span class="hljs-attr">reducers</span>: {
    <span class="hljs-attr">addItem</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(action.payload);
    },
    <span class="hljs-attr">clearCart</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {},

    <span class="hljs-attr">removeItem</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {},
    <span class="hljs-attr">editItem</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {},
  },
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> { addItem, removeItem, editItem, clearCart } = cartSlice.actions;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> cartSlice.reducer;
</div></code></pre>
<p>store.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { configureStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>;

<span class="hljs-keyword">import</span> cartReducer <span class="hljs-keyword">from</span> <span class="hljs-string">'./features/cart/cartSlice'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> store = configureStore({
  <span class="hljs-attr">reducer</span>: {
    <span class="hljs-attr">cartState</span>: cartReducer,
  },
});
</div></code></pre>
<p>main.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>;
<span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.jsx'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'react-toastify/dist/ReactToastify.css'</span>;
<span class="hljs-comment">// order</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./index.css'</span>;

<span class="hljs-keyword">import</span> { ToastContainer } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;
<span class="hljs-keyword">import</span> { store } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;
<span class="hljs-keyword">import</span> { Provider } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
ReactDOM.createRoot(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'root'</span>)).render(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Provider</span> <span class="hljs-attr">store</span>=<span class="hljs-string">{store}</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ToastContainer</span> <span class="hljs-attr">position</span>=<span class="hljs-string">'top-center'</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Provider</span>&gt;</span></span>
);
</div></code></pre>
<h2 id="challenge-33---add-product-singleproductpage">Challenge (33) - Add Product (SingleProductPage)</h2>
<ul>
<li>import and dispatch addItem action</li>
<li>add item to cart in SingleProduct page</li>
</ul>
<h2 id="solution-33---add-product-singleproductpage">Solution (33) - Add Product (SingleProductPage)</h2>
<p>SingleProduct.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useDispatch } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> { addItem } <span class="hljs-keyword">from</span> <span class="hljs-string">'../features/cart/cartSlice'</span>;
<span class="hljs-keyword">const</span> SingleProduct = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> dispatch = useDispatch();
  <span class="hljs-keyword">const</span> cartProduct = {
    <span class="hljs-attr">cartID</span>: product.id + productColor,
    <span class="hljs-attr">productID</span>: product.id,
    image,
    title,
    price,
    amount,
    productColor,
    company,
  };

  <span class="hljs-keyword">const</span> addToCart = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    dispatch(addItem({ <span class="hljs-attr">product</span>: cartProduct }));
  };
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
      ....
      {/* CART BUTTON */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-10 '</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-secondary btn-md'</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{addToCart}</span>&gt;</span>
          Add to bag
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span>
  );
};
</div></code></pre>
<h2 id="challenge-34---additem-reducer">Challenge (34) - AddItem Reducer</h2>
<ul>
<li>display cartItems in Navbar</li>
<li>setup addItem functionality</li>
</ul>
<h2 id="building-the-additem-reducer">Building the <code>addItem</code> Reducer</h2>
<ol>
<li><strong>Purpose</strong>:</li>
</ol>
<ul>
<li>This reducer updates the cart state when a product is added.</li>
</ul>
<ol start="2">
<li><strong>Extract Product from Action</strong>:</li>
</ol>
<ul>
<li>Extract the <code>product</code> object from <code>action.payload</code>.</li>
</ul>
<ol start="3">
<li><strong>Check for Existing Item</strong>:</li>
</ol>
<ul>
<li>Search for the product in the <code>cartItems</code> array based on the <code>cartID</code>.</li>
<li>If the item already exists in the cart:
<ul>
<li>Increment the <code>amount</code> of the item in the cart by the <code>amount</code> of the <code>product</code>.</li>
</ul>
</li>
</ul>
<ol start="4">
<li><strong>Add New Item</strong>:</li>
</ol>
<ul>
<li>If the product does not exist in the cart:
<ul>
<li>Push the <code>product</code> directly into the <code>cartItems</code> array.</li>
</ul>
</li>
</ul>
<ol start="5">
<li><strong>Update Cart Totals</strong>:</li>
</ol>
<ul>
<li>Increase the <code>numItemsInCart</code> by the <code>amount</code> of the product.</li>
<li>Increase the <code>cartTotal</code> by the product's <code>price</code> multiplied by its <code>amount</code>.</li>
</ul>
<ol start="6">
<li><strong>Calculate Tax and Order Total</strong>:</li>
</ol>
<ul>
<li>Set <code>tax</code> as 10% of the <code>cartTotal</code>.</li>
<li>Calculate the <code>orderTotal</code> as the sum of <code>cartTotal</code>, <code>shipping</code>, and <code>tax</code>.</li>
</ul>
<ol start="7">
<li><strong>Save to Local Storage</strong>:</li>
</ol>
<ul>
<li>Convert the current state to a JSON string and store it in the browser's local storage under the key 'cart'.</li>
</ul>
<ol start="8">
<li><strong>Notify User</strong>:</li>
</ol>
<ul>
<li>Use the <code>toast.success</code> method to display a success message: 'Item added to cart'.</li>
</ul>
<h2 id="solution-34---additem-reducer">Solution (34) - AddItem Reducer</h2>
<p>Navbar.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">const</span> numItemsInCart = useSelector(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.cartState.numItemsInCart);
</div></code></pre>
<p>cartSlice.js</p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">addItem</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { product } = action.payload;

      <span class="hljs-keyword">const</span> item = state.cartItems.find(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span> i.cartID === product.cartID);
      <span class="hljs-keyword">if</span> (item) {
        item.amount += product.amount;
      } <span class="hljs-keyword">else</span> {
        state.cartItems.push(product);
      }
      state.numItemsInCart += product.amount;
      state.cartTotal += product.price * product.amount;
      state.tax = <span class="hljs-number">0.1</span> * state.cartTotal;
      state.orderTotal = state.cartTotal + state.shipping + state.tax;
      localStorage.setItem(<span class="hljs-string">'cart'</span>, <span class="hljs-built_in">JSON</span>.stringify(state));
      toast.success(<span class="hljs-string">'Item added to cart'</span>);
    },
}

</div></code></pre>
<h2 id="challenge-35---refactor-and-setup-local-storage">Challenge (35) - Refactor and Setup Local Storage</h2>
<ul>
<li>refactor addItem and get default state from local storage</li>
</ul>
<h3 id="calculatetotals-reducer">calculateTotals Reducer:</h3>
<ol>
<li><strong>Purpose</strong>:</li>
</ol>
<ul>
<li>Re-calculates the tax and order total for the cart.</li>
</ul>
<ol start="2">
<li><strong>Calculate Tax and Order Total</strong>:</li>
</ol>
<ul>
<li>Set <code>tax</code> as 10% of the <code>cartTotal</code>.</li>
<li>Determine the <code>orderTotal</code> as the sum of <code>cartTotal</code>, <code>shipping</code>, and <code>tax</code>.</li>
</ul>
<ol start="3">
<li><strong>Save to Local Storage</strong>:</li>
</ol>
<ul>
<li>Convert the current state to a JSON string and save it in the browser's local storage under the key 'cart'.</li>
</ul>
<h2 id="solution-35---refactor-and-setup-local-storage">Solution (35) - Refactor and Setup Local Storage</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createSlice } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;

<span class="hljs-keyword">const</span> defaultState = {
  <span class="hljs-attr">cartItems</span>: [],
  <span class="hljs-attr">numItemsInCart</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">cartTotal</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">shipping</span>: <span class="hljs-number">500</span>,
  <span class="hljs-attr">tax</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">orderTotal</span>: <span class="hljs-number">0</span>,
};

<span class="hljs-keyword">const</span> getCartFromLocalStorage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(localStorage.getItem(<span class="hljs-string">'cart'</span>)) || defaultState;
};

<span class="hljs-keyword">const</span> cartSlice = createSlice({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'cart'</span>,
  <span class="hljs-attr">initialState</span>: getCartFromLocalStorage(),
  <span class="hljs-attr">reducers</span>: {
    <span class="hljs-attr">addItem</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { product } = action.payload;

      <span class="hljs-keyword">const</span> item = state.cartItems.find(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span> i.cartID === product.cartID);
      <span class="hljs-keyword">if</span> (item) {
        item.amount += product.amount;
      } <span class="hljs-keyword">else</span> {
        state.cartItems.push(product);
      }
      state.numItemsInCart += product.amount;
      state.cartTotal += product.price * product.amount;
      cartSlice.caseReducers.calculateTotals(state);
      toast.success(<span class="hljs-string">'item added to cart'</span>);
    },
    <span class="hljs-attr">clearCart</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {},

    <span class="hljs-attr">removeItem</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {},
    <span class="hljs-attr">editItem</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {},

    <span class="hljs-attr">calculateTotals</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      state.tax = <span class="hljs-number">0.1</span> * state.cartTotal;
      state.orderTotal = state.cartTotal + state.shipping + state.tax;
      localStorage.setItem(<span class="hljs-string">'cart'</span>, <span class="hljs-built_in">JSON</span>.stringify(state));
    },
  },
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> { addItem, removeItem, editItem, clearCart } = cartSlice.actions;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> cartSlice.reducer;
</div></code></pre>
<h2 id="challenge-36---clear-cart-remove-item-and-edit-item">Challenge (36) - Clear Cart, Remove Item and Edit Item</h2>
<ul>
<li>try to setup reducers for clear cart, remove item and edit item</li>
</ul>
<h2 id="building-the-reducers">Building the Reducers</h2>
<h3 id="clearcart-reducer">clearCart Reducer:</h3>
<ol>
<li><strong>Purpose</strong>:</li>
</ol>
<ul>
<li>Clears the current cart state and resets it to the default state.</li>
</ul>
<ol start="2">
<li><strong>Update Local Storage</strong>:</li>
</ol>
<ul>
<li>Store the <code>defaultState</code> in the browser's local storage under the key 'cart'.</li>
</ul>
<ol start="3">
<li><strong>Return Default State</strong>:</li>
</ol>
<ul>
<li>Reset the entire cart state by returning <code>defaultState</code>.</li>
</ul>
<h3 id="removeitem-reducer">removeItem Reducer:</h3>
<ol>
<li><strong>Purpose</strong>:</li>
</ol>
<ul>
<li>Removes a specific item from the cart.</li>
</ul>
<ol start="2">
<li><strong>Extract cartID from Action</strong>:</li>
</ol>
<ul>
<li>Extract the <code>cartID</code> from <code>action.payload</code>.</li>
</ul>
<ol start="3">
<li><strong>Find Product</strong>:</li>
</ol>
<ul>
<li>Find the product in the <code>cartItems</code> array based on the <code>cartID</code>.</li>
</ul>
<ol start="4">
<li><strong>Update Cart Items</strong>:</li>
</ol>
<ul>
<li>Filter out the product from <code>cartItems</code> array based on the <code>cartID</code>.</li>
</ul>
<ol start="5">
<li><strong>Update Cart Totals</strong>:</li>
</ol>
<ul>
<li>Decrease the <code>numItemsInCart</code> by the <code>amount</code> of the product.</li>
<li>Decrease the <code>cartTotal</code> by the product's <code>price</code> multiplied by its <code>amount</code>.</li>
<li>Call the <code>calculateTotals</code> reducer to re-evaluate tax and order total.</li>
</ul>
<ol start="6">
<li><strong>Notify User</strong>:</li>
</ol>
<ul>
<li>Use the <code>toast.error</code> method to display a message: 'Item removed from cart'.</li>
</ul>
<h3 id="edititem-reducer">editItem Reducer:</h3>
<ol>
<li><strong>Purpose</strong>:</li>
</ol>
<ul>
<li>Modifies the amount of a specific item in the cart.</li>
</ul>
<ol start="2">
<li><strong>Extract Data from Action</strong>:</li>
</ol>
<ul>
<li>Extract <code>cartID</code> and <code>amount</code> from <code>action.payload</code>.</li>
</ul>
<ol start="3">
<li><strong>Find Item</strong>:</li>
</ol>
<ul>
<li>Find the item in the <code>cartItems</code> array based on the <code>cartID</code>.</li>
</ul>
<ol start="4">
<li><strong>Update Cart Totals</strong>:</li>
</ol>
<ul>
<li>Adjust the <code>numItemsInCart</code> by the difference between the new amount and the item's previous amount.</li>
<li>Update the <code>cartTotal</code> based on the item's <code>price</code> and the amount difference.</li>
<li>Update the item's <code>amount</code> to the new amount.</li>
<li>Call the <code>calculateTotals</code> reducer to re-evaluate tax and order total.</li>
</ul>
<ol start="5">
<li><strong>Notify User</strong>:</li>
</ol>
<ul>
<li>Use the <code>toast.success</code> method to display a message: 'Cart updated'.</li>
</ul>
<h2 id="solution-36---clear-cart-remove-item-and-edit-item">Solution (36) - Clear Cart, Remove Item and Edit Item</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createSlice } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;

<span class="hljs-keyword">const</span> defaultState = {
  <span class="hljs-attr">cartItems</span>: [],
  <span class="hljs-attr">numItemsInCart</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">cartTotal</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">shipping</span>: <span class="hljs-number">500</span>,
  <span class="hljs-attr">tax</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">orderTotal</span>: <span class="hljs-number">0</span>,
};

<span class="hljs-keyword">const</span> getCartFromLocalStorage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(localStorage.getItem(<span class="hljs-string">'cart'</span>)) || defaultState;
};

<span class="hljs-keyword">const</span> cartSlice = createSlice({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'cart'</span>,
  <span class="hljs-attr">initialState</span>: getCartFromLocalStorage(),
  <span class="hljs-attr">reducers</span>: {
    <span class="hljs-attr">addItem</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { product } = action.payload;

      <span class="hljs-keyword">const</span> item = state.cartItems.find(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span> i.cartID === product.cartID);
      <span class="hljs-keyword">if</span> (item) {
        item.amount += product.amount;
      } <span class="hljs-keyword">else</span> {
        state.cartItems.push(product);
      }
      state.numItemsInCart += product.amount;
      state.cartTotal += product.price * product.amount;
      cartSlice.caseReducers.calculateTotals(state);
      toast.success(<span class="hljs-string">'item added to cart'</span>);
    },
    <span class="hljs-attr">clearCart</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      localStorage.setItem(<span class="hljs-string">'cart'</span>, <span class="hljs-built_in">JSON</span>.stringify(defaultState));
      <span class="hljs-keyword">return</span> defaultState;
    },

    <span class="hljs-attr">removeItem</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { cartID } = action.payload;
      <span class="hljs-keyword">const</span> product = state.cartItems.find(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span> i.cartID === cartID);
      state.cartItems = state.cartItems.filter(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span> i.cartID !== cartID);

      state.numItemsInCart -= product.amount;
      state.cartTotal -= product.price * product.amount;
      cartSlice.caseReducers.calculateTotals(state);
      toast.error(<span class="hljs-string">'Item removed from cart'</span>);
    },
    <span class="hljs-attr">editItem</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { cartID, amount } = action.payload;
      <span class="hljs-keyword">const</span> item = state.cartItems.find(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span> i.cartID === cartID);
      state.numItemsInCart += amount - item.amount;
      state.cartTotal += item.price * (amount - item.amount);
      item.amount = amount;
      cartSlice.caseReducers.calculateTotals(state);
      toast.success(<span class="hljs-string">'Cart updated'</span>);
    },

    <span class="hljs-attr">calculateTotals</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      state.tax = <span class="hljs-number">0.1</span> * state.cartTotal;
      state.orderTotal = state.cartTotal + state.shipping + state.tax;
      localStorage.setItem(<span class="hljs-string">'cart'</span>, <span class="hljs-built_in">JSON</span>.stringify(state));
    },
  },
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> { addItem, removeItem, editItem, clearCart } = cartSlice.actions;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> cartSlice.reducer;
</div></code></pre>
<pre class="hljs"><code><div>state.numItemsInCart += amount - item.amount;
</div></code></pre>
<p>The logic here is to update the total number of items in the cart (state.numItemsInCart) by adjusting it based on the difference between the provided amount and the existing quantity of that item (item.amount). If amount is greater than item.amount, it means that items are being added to the cart. If amount is less than item.amount, it means that items are being removed from the cart. If they are equal, it implies no change to the quantity of that item in the cart.</p>
<p>The result of the subtraction (amount - item.amount) is then added to the current state.numItemsInCart to reflect the new total number of items in the cart.</p>
<pre class="hljs"><code><div>state.cartTotal += item.price * (amount - item.amount);
</div></code></pre>
<p>In this line, the logic is calculating the change in the total cost of the cart (state.cartTotal) based on the price of the item (item.price) and the change in the quantity of that item (amount - item.amount). This calculation is then added to the current state.cartTotal.</p>
<p>If amount is greater than item.amount, it means more items are being added, so the cost of those additional items (difference between amount and item.amount) is calculated by multiplying it with the price of the item. If amount is less than item.amount, it means items are being removed, so the cost of those removed items is subtracted from the state.cartTotal. If they are equal, there is no change in the cost related to that item.</p>
<h2 id="challenge-37---setup-cart-page">Challenge (37) - Setup Cart Page</h2>
<ul>
<li>create CartItemsList, CartTotals, CartItem components</li>
<li>export CartItemsList, CartTotals in components/index.js</li>
<li>setup two column layout in cart page</li>
</ul>
<h3 id="cartpagejsx">CartPage.jsx</h3>
<ol>
<li>
<p><strong>Initialize Necessary Imports</strong>:</p>
<ul>
<li>Import <code>useSelector</code> from <code>react-redux</code> to enable access to the Redux store.</li>
<li>Bring in <code>CartItemsList</code>, <code>SectionTitle</code>, and <code>CartTotals</code> components from the <code>components</code> directory.</li>
<li>Import <code>Link</code> from <code>react-router-dom</code> for navigation capabilities.</li>
</ul>
</li>
<li>
<p><strong>Create Cart Component</strong>:</p>
<ul>
<li>Define a functional component named <code>Cart</code>.</li>
</ul>
</li>
<li>
<p><strong>Initialize State and Variables</strong>:</p>
<ul>
<li>Set a temporary variable <code>user</code> to <code>null</code>.</li>
<li>Use the <code>useSelector</code> hook to retrieve <code>numItemsInCart</code> from the Redux store's <code>cartState</code>.</li>
</ul>
</li>
<li>
<p><strong>Component Logic</strong>:</p>
<ul>
<li>Check if <code>numItemsInCart</code> is zero.
<ul>
<li>If true, return the <code>SectionTitle</code> component with the text 'Your cart is empty'.</li>
<li>If there are items in the cart, continue to display the cart details.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Component Structure</strong>:</p>
<ul>
<li>Render the <code>SectionTitle</code> component with the text 'Shopping Cart'.</li>
<li>Set up a grid layout (<code>mt-8 grid gap-8 lg:grid-cols-12</code>) to manage cart layout.</li>
<li>For displaying cart items:
<ul>
<li>Use 8 of 12 columns on large screens (<code>lg:col-span-8</code>).</li>
<li>Insert the <code>CartItemsList</code> component.</li>
</ul>
</li>
<li>For displaying cart totals and the checkout/login button:
<ul>
<li>Use 4 of 12 columns on large screens (<code>lg:col-span-4 lg:pl-4</code>).</li>
<li>Place the <code>CartTotals</code> component.</li>
<li>Check if <code>user</code> is defined:
<ul>
<li>If true, provide a link to '/checkout' with the text 'Proceed to checkout'.</li>
<li>If false, provide a link to '/login' with the text 'please login'.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Export Cart Component</strong>:</p>
<ul>
<li>Export the <code>Cart</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-37---setup-cart-page">Solution (37) - Setup Cart Page</h2>
<p>pages/Cart.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> { CartItemsList, SectionTitle, CartTotals } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;
<span class="hljs-keyword">import</span> { Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> Cart = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-comment">// temp</span>
  <span class="hljs-keyword">const</span> user = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> numItemsInCart = useSelector(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.cartState.numItemsInCart);
  <span class="hljs-keyword">if</span> (numItemsInCart === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SectionTitle</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'Your cart is empty'</span> /&gt;</span></span>;
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">SectionTitle</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'Shopping Cart'</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-8 grid gap-8  lg:grid-cols-12'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'lg:col-span-8'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">CartItemsList</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'lg:col-span-4 lg:pl-4'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">CartTotals</span> /&gt;</span>
          {user ? (
            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/checkout'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-primary btn-block mt-8'</span>&gt;</span>
              Proceed to checkout
            <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
          ) : (
            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/login'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-primary btn-block mt-8'</span>&gt;</span>
              please login
            <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
          )}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Cart;
</div></code></pre>
<h2 id="challenge-38---cart-totals">Challenge (38) - Cart Totals</h2>
<ul>
<li>setup cart totals component</li>
</ul>
<h3 id="carttotalsjsx">CartTotals.jsx</h3>
<ol>
<li>
<p><strong>Initialize Necessary Imports</strong>:</p>
<ul>
<li>Import <code>useSelector</code> from <code>react-redux</code> for state retrieval from the Redux store.</li>
<li>Bring in <code>formatPrice</code> function from the <code>utils</code> directory for price formatting.</li>
</ul>
</li>
<li>
<p><strong>Create CartTotals Component</strong>:</p>
<ul>
<li>Define a functional component named <code>CartTotals</code>.</li>
</ul>
</li>
<li>
<p><strong>Retrieve State from Redux</strong>:</p>
<ul>
<li>Use the <code>useSelector</code> hook to get <code>cartTotal</code>, <code>shipping</code>, <code>tax</code>, and <code>orderTotal</code> from the Redux store's <code>cartState</code>.</li>
</ul>
</li>
<li>
<p><strong>Component Structure</strong>:</p>
<ul>
<li>Enclose all content inside a <code>div</code> with the class <code>card bg-base-200</code>.</li>
<li>Use an inner <code>div</code> with the class <code>card-body</code> for structured content.</li>
<li>Display the Subtotal:
<ul>
<li>Use a <code>p</code> element with classes <code>flex</code>, <code>justify-between</code>, <code>text-xs</code>, <code>border-b</code>, and <code>border-base-300 pb-2</code>.</li>
<li>Use two nested <code>span</code> elements. The first displays &quot;Subtotal&quot;, and the second displays the formatted <code>cartTotal</code>.</li>
</ul>
</li>
<li>Display Shipping charges:
<ul>
<li>Similar to the Subtotal, but the text reads &quot;Shipping&quot; and the value is the formatted <code>shipping</code>.</li>
</ul>
</li>
<li>Display Tax:
<ul>
<li>Similar format, but the text reads &quot;Tax&quot; and the value is the formatted <code>tax</code>.</li>
</ul>
</li>
<li>Display Order Total:
<ul>
<li>Use a <code>p</code> element with classes <code>mt-4</code>, <code>flex</code>, <code>justify-between</code>, and <code>text-sm  pb-2</code>.</li>
<li>Use nested <code>span</code> elements with <code>font-bold</code> class. The first displays &quot;Order Total&quot;, and the second displays the formatted <code>orderTotal</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Export CartTotals Component</strong>:</p>
<ul>
<li>Export the <code>CartTotals</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-38---cart-totals">Solution (38) - Cart Totals</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> { formatPrice } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">const</span> CartTotals = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { cartTotal, shipping, tax, orderTotal } = useSelector(
    <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.cartState
  );

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'card bg-base-200'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'card-body'</span>&gt;</span>
        {/* SUBTOTAL */}
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'flex justify-between text-xs border-b border-base-300 pb-2'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Subtotal<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-medium'</span>&gt;</span>{formatPrice(cartTotal)}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        {/* SHIPPING */}
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'flex justify-between text-xs border-b border-base-300 pb-2'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Shipping<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-medium'</span>&gt;</span>{formatPrice(shipping)}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        {/* Tax */}
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'flex justify-between text-xs border-b border-base-300 pb-2'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Tax<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-medium'</span>&gt;</span>{formatPrice(tax)}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        {/* Total */}
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-4 flex justify-between text-sm  pb-2'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-bold'</span>&gt;</span>Order Total<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-bold'</span>&gt;</span>{formatPrice(orderTotal)}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> CartTotals;
</div></code></pre>
<h2 id="challenge-39---cart-items-list">Challenge (39) - Cart Items List</h2>
<ul>
<li>iterate over cartItems and return CartItem</li>
<li>in CartItem display values and implement remove,edit functionality</li>
</ul>
<h3 id="cartitemslistjsx">CartItemsList.jsx</h3>
<ol>
<li>
<p><strong>Initialize Necessary Imports</strong>:</p>
<ul>
<li>Import <code>useSelector</code> from <code>react-redux</code> to retrieve state from the Redux store.</li>
<li>Bring in <code>CartItem</code> component for item rendering.</li>
</ul>
</li>
<li>
<p><strong>Create CartItemsList Component</strong>:</p>
<ul>
<li>Define a functional component named <code>CartItemsList</code>.</li>
</ul>
</li>
<li>
<p><strong>Retrieve State from Redux</strong>:</p>
<ul>
<li>Use the <code>useSelector</code> hook to get <code>cartItems</code> from the Redux store's <code>cartState</code>.</li>
</ul>
</li>
<li>
<p><strong>Component Structure</strong>:</p>
<ul>
<li>Create a wrapping <code>div</code>.</li>
<li>Use the <code>map</code> method on <code>cartItems</code> to loop through each item.</li>
<li>For each <code>item</code>, return a <code>CartItem</code> component:
<ul>
<li>Pass <code>item.cartID</code> as the <code>key</code> prop for React's list rendering optimization.</li>
<li>Pass the entire <code>item</code> object as the <code>cartItem</code> prop to the <code>CartItem</code> component.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Export CartItemsList Component</strong>:</p>
<ul>
<li>Export the <code>CartItemsList</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h3 id="cartitemjs">CartItem.js</h3>
<ol>
<li>
<p><strong>Initialize Necessary Imports</strong>:</p>
<ul>
<li>Import utility functions <code>formatPrice</code> and <code>generateAmountOptions</code> from the <code>../utils</code> directory.</li>
<li>Import <code>removeItem</code> and <code>editItem</code> from the Redux slice named <code>cartSlice</code>.</li>
<li>Bring in <code>useDispatch</code> from <code>react-redux</code> for dispatching actions to the Redux store.</li>
</ul>
</li>
<li>
<p><strong>Create CartItem Component</strong>:</p>
<ul>
<li>Define a functional component named <code>CartItem</code> that accepts a <code>cartItem</code> prop.</li>
</ul>
</li>
<li>
<p><strong>Setup Redux Dispatch</strong>:</p>
<ul>
<li>Use the <code>useDispatch</code> hook and store the result in the <code>dispatch</code> constant.</li>
</ul>
</li>
<li>
<p><strong>Functions for Event Handlers</strong>:</p>
<ul>
<li>Define <code>removeItemFromTheCart</code> function:
<ul>
<li>Dispatch the <code>removeItem</code> action, passing the <code>cartID</code> from the cart item.</li>
</ul>
</li>
<li>Define <code>handleAmount</code> function:
<ul>
<li>Dispatch the <code>editItem</code> action, updating the <code>amount</code> for the cart item identified by <code>cartID</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Destructure cartItem Prop</strong>:</p>
<ul>
<li>Extract necessary fields from <code>cartItem</code> including <code>cartID</code>, <code>title</code>, <code>price</code>, <code>image</code>, <code>amount</code>, <code>company</code>, and <code>productColor</code>.</li>
</ul>
</li>
<li>
<p><strong>Component Structure</strong>:</p>
<ul>
<li>Create an <code>article</code> element wrapping the entire cart item.
<ul>
<li>Embed the product image using an <code>img</code> element.</li>
<li>Display product information using a <code>div</code>:
<ul>
<li>Show the product <code>title</code>, <code>company</code>, and <code>color</code> using corresponding elements.</li>
</ul>
</li>
<li>Render the product amount using a <code>div</code> containing a dropdown <code>select</code>.</li>
<li>Provide a <code>button</code> to remove the item from the cart.</li>
<li>Display the product price using a <code>p</code> element.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Export CartItem Component</strong>:</p>
<ul>
<li>Export the <code>CartItem</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-39---cart-items-list">Solution (39) - Cart Items List</h2>
<p>CartItemsList.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> CartItem <span class="hljs-keyword">from</span> <span class="hljs-string">'./CartItem'</span>;
<span class="hljs-keyword">const</span> CartItemsList = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> cartItems = useSelector(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.cartState.cartItems);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {cartItems.map((item) =&gt; {
        return <span class="hljs-tag">&lt;<span class="hljs-name">CartItem</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.cartID}</span> <span class="hljs-attr">cartItem</span>=<span class="hljs-string">{item}</span> /&gt;</span>;
      })}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> CartItemsList;
</div></code></pre>
<p>CartItem.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { formatPrice, generateAmountOptions } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">import</span> { removeItem, editItem } <span class="hljs-keyword">from</span> <span class="hljs-string">'../features/cart/cartSlice'</span>;
<span class="hljs-keyword">import</span> { useDispatch } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">const</span> CartItem = <span class="hljs-function">(<span class="hljs-params">{ cartItem }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> dispatch = useDispatch();

  <span class="hljs-keyword">const</span> removeItemFromTheCart = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    dispatch(removeItem({ cartID }));
  };
  <span class="hljs-keyword">const</span> handleAmount = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    dispatch(editItem({ cartID, <span class="hljs-attr">amount</span>: <span class="hljs-built_in">parseInt</span>(e.target.value) }));
  };

  <span class="hljs-keyword">const</span> { cartID, title, price, image, amount, company, productColor } =
    cartItem;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">article</span>
      <span class="hljs-attr">key</span>=<span class="hljs-string">{cartID}</span>
      <span class="hljs-attr">className</span>=<span class="hljs-string">'mb-12 flex flex-col gap-y-4 sm:flex-row flex-wrap border-b border-base-300 pb-6 last:border-b-0'</span>
    &gt;</span>
      {/* IMAGE */}
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
        <span class="hljs-attr">src</span>=<span class="hljs-string">{image}</span>
        <span class="hljs-attr">alt</span>=<span class="hljs-string">{title}</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">'h-24 w-24 rounded-lg sm:h-32 sm:w-32 object-cover'</span>
      /&gt;</span>
      {/* INFO */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'sm:ml-16 sm:w-48'</span>&gt;</span>
        {/* TITLE */}
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'capitalize font-medium'</span>&gt;</span>{title}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        {/* COMPANY */}
        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-2 capitalize text-sm text-neutral-content'</span>&gt;</span>
          {company}
        <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
        {/* COLOR */}
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-4 text-sm capitalize flex items-center gap-x-2'</span>&gt;</span>
          color :
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">'badge badge-sm'</span>
            <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">productColor</span> }}
          &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'sm:ml-12'</span>&gt;</span>
        {/* AMOUNT */}
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'form-control max-w-xs'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">'amount'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label p-0'</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'label-text'</span>&gt;</span>Amount<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">select</span>
            <span class="hljs-attr">name</span>=<span class="hljs-string">'amount'</span>
            <span class="hljs-attr">id</span>=<span class="hljs-string">'amount'</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-2 select select-base select-bordered select-xs'</span>
            <span class="hljs-attr">value</span>=<span class="hljs-string">{amount}</span>
            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleAmount}</span>
          &gt;</span>
            {generateAmountOptions(amount + 5)}
          <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        {/* REMOVE */}
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-2 link link-primary link-hover text-sm'</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{removeItemFromTheCart}</span>
        &gt;</span>
          remove
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      {/* PRICE */}
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-medium sm:ml-auto'</span>&gt;</span>{formatPrice(price)}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> CartItem;
</div></code></pre>
<p>CartItem.jsx</p>
<pre class="hljs"><code><div>&lt;div className=<span class="hljs-string">'sm:ml-12'</span>&gt;
  {<span class="hljs-comment">/* AMOUNT */</span>}
  {<span class="hljs-comment">/* REMOVE */</span>}
&lt;<span class="hljs-regexp">/div&gt;
</span></div></code></pre>
<h2 id="challenge-40---setup-user-slice">Challenge (40) - Setup User Slice</h2>
<ul>
<li>setup user slice</li>
<li>add to store</li>
</ul>
<h3 id="userslicejs">userSlice.js</h3>
<ul>
<li>
<p>create features/user/userSlice.js</p>
</li>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>createSlice</code> from <code>'@reduxjs/toolkit'</code>.</li>
<li>Import <code>toast</code> from <code>'react-toastify'</code>.</li>
</ul>
</li>
<li>
<p>Define Initial State:</p>
<ul>
<li>Create an <code>initialState</code> object with default values for <code>user</code> and <code>theme</code>.</li>
</ul>
</li>
<li>
<p>Create Redux Slice:</p>
<ul>
<li>Use <code>createSlice</code> to define a Redux slice named <code>'user'</code>.</li>
<li>Set the slice name to <code>'user'</code>.</li>
<li>Use the <code>initialState</code> object as the initial state.</li>
</ul>
</li>
<li>
<p>Define Reducer Functions:</p>
<ul>
<li>
<p>Create the <code>loginUser</code> reducer function with the signature <code>(state, action) =&gt; {}</code>.</p>
<ul>
<li>Inside the function, log a message like <code>'login'</code>.</li>
</ul>
</li>
<li>
<p>Create the <code>logoutUser</code> reducer function with the signature <code>(state) =&gt; {}</code>.</p>
<ul>
<li>Inside the function, log a message like <code>'logout'</code>.</li>
</ul>
</li>
<li>
<p>Create the <code>toggleTheme</code> reducer function with the signature <code>(state) =&gt; {}</code>.</p>
<ul>
<li>Inside the function, log a message like <code>'toggle theme'</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Export Actions:</p>
<ul>
<li>Export the action creators:
<ul>
<li><code>loginUser</code></li>
<li><code>logoutUser</code></li>
<li><code>toggleTheme</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="solution-40---setup-user-slice">Solution (40) - Setup User Slice</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createSlice } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;

<span class="hljs-keyword">const</span> initialState = {
  <span class="hljs-attr">user</span>: { <span class="hljs-attr">username</span>: <span class="hljs-string">'coding addict'</span> },
  <span class="hljs-attr">theme</span>: <span class="hljs-string">'dracula'</span>,
};

<span class="hljs-keyword">const</span> userSlice = createSlice({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'user'</span>,
  initialState,
  <span class="hljs-attr">reducers</span>: {
    <span class="hljs-attr">loginUser</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'login'</span>);
    },
    <span class="hljs-attr">logoutUser</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'logout'</span>);
    },
    <span class="hljs-attr">toggleTheme</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'toggle theme'</span>);
    },
  },
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> { loginUser, logoutUser, toggleTheme } = userSlice.actions;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> userSlice.reducer;
</div></code></pre>
<p>store.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { configureStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>;

<span class="hljs-keyword">import</span> cartReducer <span class="hljs-keyword">from</span> <span class="hljs-string">'./features/cart/cartSlice'</span>;
<span class="hljs-keyword">import</span> userReducer <span class="hljs-keyword">from</span> <span class="hljs-string">'./features/user/userSlice'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> store = configureStore({
  <span class="hljs-attr">reducer</span>: {
    <span class="hljs-attr">cartState</span>: cartReducer,
    <span class="hljs-attr">userState</span>: userReducer,
  },
});
</div></code></pre>
<h2 id="challenge-41---move-theme-logic">Challenge (41) - Move Theme Logic</h2>
<ul>
<li>move theme logic from Navbar to userSlice</li>
</ul>
<h2 id="solution-41---move-theme-logic">Solution (41) - Move Theme Logic</h2>
<p>userSlice.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createSlice } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;

<span class="hljs-keyword">const</span> themes = {
  <span class="hljs-attr">winter</span>: <span class="hljs-string">'winter'</span>,
  <span class="hljs-attr">dracula</span>: <span class="hljs-string">'dracula'</span>,
};

<span class="hljs-keyword">const</span> getThemeFromLocalStorage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> theme = localStorage.getItem(<span class="hljs-string">'theme'</span>) || themes.winter;
  <span class="hljs-built_in">document</span>.documentElement.setAttribute(<span class="hljs-string">'data-theme'</span>, theme);
  <span class="hljs-keyword">return</span> theme;
};

<span class="hljs-keyword">const</span> initialState = {
  <span class="hljs-attr">user</span>: { <span class="hljs-attr">username</span>: <span class="hljs-string">'coding addict'</span> },
  <span class="hljs-attr">theme</span>: getThemeFromLocalStorage(),
};

<span class="hljs-keyword">const</span> userSlice = createSlice({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'user'</span>,
  initialState,
  <span class="hljs-attr">reducers</span>: {
    <span class="hljs-attr">loginUser</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'login'</span>);
    },
    <span class="hljs-attr">logoutUser</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'logout'</span>);
    },
    <span class="hljs-attr">toggleTheme</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { dracula, winter } = themes;
      state.theme = state.theme === dracula ? winter : dracula;
      <span class="hljs-built_in">document</span>.documentElement.setAttribute(<span class="hljs-string">'data-theme'</span>, state.theme);
      localStorage.setItem(<span class="hljs-string">'theme'</span>, state.theme);
    },
  },
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> { loginUser, logoutUser, toggleTheme } = userSlice.actions;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> userSlice.reducer;
</div></code></pre>
<p>Navbar.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { BsCart3, BsMoonFill, BsSunFill } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-icons/bs'</span>;
<span class="hljs-keyword">import</span> { FaBarsStaggered } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-icons/fa6'</span>;
<span class="hljs-keyword">import</span> { NavLink } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> NavLinks <span class="hljs-keyword">from</span> <span class="hljs-string">'./NavLinks'</span>;

<span class="hljs-keyword">import</span> { useDispatch, useSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> { toggleTheme } <span class="hljs-keyword">from</span> <span class="hljs-string">'../features/user/userSlice'</span>;

<span class="hljs-keyword">const</span> Navbar = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> numItemsInCart = useSelector(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.cartState.numItemsInCart);

  <span class="hljs-keyword">const</span> dispatch = useDispatch();
  <span class="hljs-keyword">const</span> handleTheme = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    dispatch(toggleTheme());
  };
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'bg-base-200'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'navbar align-element '</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'navbar-start'</span>&gt;</span>
          {/* Title */}
          <span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span>
            <span class="hljs-attr">to</span>=<span class="hljs-string">'/'</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">'hidden lg:flex btn btn-primary text-3xl items-center '</span>
          &gt;</span>
            C
          <span class="hljs-tag">&lt;/<span class="hljs-name">NavLink</span>&gt;</span>
          {/* DROPDOWN */}
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'dropdown'</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">tabIndex</span>=<span class="hljs-string">{0}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-ghost lg:hidden'</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">FaBarsStaggered</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'h-6 w-6'</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>
              <span class="hljs-attr">tabIndex</span>=<span class="hljs-string">{0}</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">'menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-200 rounded-box w-52'</span>
            &gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">NavLinks</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'navbar-center hidden lg:flex'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'menu menu-horizontal '</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">NavLinks</span> /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'navbar-end'</span>&gt;</span>
          {/* THEME ICONS */}
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'swap swap-rotate '</span>&gt;</span>
            {/* this hidden checkbox controls the state */}
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'checkbox'</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleTheme}</span> /&gt;</span>

            {/* sun icon */}
            <span class="hljs-tag">&lt;<span class="hljs-name">BsSunFill</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'swap-on h-4 w-4'</span> /&gt;</span>

            {/* moon icon */}
            <span class="hljs-tag">&lt;<span class="hljs-name">BsMoonFill</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'swap-off h-4 w-4'</span> /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          {/* CART LINK*/}
          <span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'cart'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-ghost btn-circle btn-md ml-4'</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'indicator'</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">BsCart3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'h-6 w-6'</span> /&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'badge badge-sm badge-primary indicator-item'</span>&gt;</span>
                {numItemsInCart}
              <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">NavLink</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Navbar;
</div></code></pre>
<h2 id="challenge-42---setup-logout-and-access-user">Challenge (42) - Setup Logout and Access User</h2>
<ul>
<li>setup logout reducer</li>
<li>access user in Header, NavLinks and Cart Page</li>
</ul>
<h2 id="solution-42---setup-logout-and-access-user">Solution (42) - Setup Logout And Access User</h2>
<p>userSlice.js</p>
<pre class="hljs"><code><div>logoutUser: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      state.user = <span class="hljs-literal">null</span>;
      <span class="hljs-comment">// localStorage.clear()</span>
      localStorage.removeItem(<span class="hljs-string">'user'</span>);
      toast.success(<span class="hljs-string">'Logged out successfully'</span>);
    },
</div></code></pre>
<p>Header.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useDispatch, useSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> { Link, useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> { logoutUser } <span class="hljs-keyword">from</span> <span class="hljs-string">'../features/user/userSlice'</span>;
<span class="hljs-keyword">import</span> { clearCart } <span class="hljs-keyword">from</span> <span class="hljs-string">'../features/cart/cartSlice'</span>;
<span class="hljs-keyword">const</span> Header = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> navigate = useNavigate();
  <span class="hljs-keyword">const</span> dispatch = useDispatch();
  <span class="hljs-keyword">const</span> user = useSelector(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.userState.user);

  <span class="hljs-keyword">const</span> handleLogout = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    navigate(<span class="hljs-string">'/'</span>);
    dispatch(clearCart());
    dispatch(logoutUser());
  };
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">className</span>=<span class="hljs-string">' bg-neutral py-2 text-neutral-content '</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'align-element flex justify-center sm:justify-end '</span>&gt;</span>
        {user ? (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'flex gap-x-2 sm:gap-x-8 items-center'</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-xs sm:text-sm'</span>&gt;</span>Hello, {user.username}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-xs btn-outline btn-primary '</span>
              <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleLogout}</span>
            &gt;</span>
              logout
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        ) : (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'flex gap-x-6 justify-center items-center'</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/login'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'link link-hover text-xs sm:text-sm'</span>&gt;</span>
              Sign in / Guest
            <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/register'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'link link-hover text-xs sm:text-sm'</span>&gt;</span>
              Create an Account
            <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Header;
</div></code></pre>
<p>NavLinks.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> { NavLink } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> NavLinks = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> user = useSelector(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.userState.user);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      {links.map((link) =&gt; {
        const { id, url, text } = link;
        if ((url === 'checkout' || url === 'orders') &amp;&amp; !user) return null;
        return (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{id}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'capitalize'</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{url}</span>&gt;</span>
              {text}
            <span class="hljs-tag">&lt;/<span class="hljs-name">NavLink</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        );
      })}
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> NavLinks;
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> Cart = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-comment">// temp</span>
  <span class="hljs-keyword">const</span> { user } = useSelector(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.userState);
};
</div></code></pre>
<h2 id="challenge-43---register-user">Challenge (43) - Register User</h2>
<ul>
<li><a href="https://documenter.getpostman.com/view/18152321/2s9Xy5KpTi">API DOCS</a></li>
<li>docs - register request</li>
<li>test in Thunder Client</li>
<li>setup action in Register</li>
<li>add action to Register route in App.jsx</li>
</ul>
<h3 id="registerjs">Register.js</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>redirect</code> from <code>'react-router-dom'</code>.</li>
<li>Import <code>customFetch</code> from <code>'../utils'</code>.</li>
<li>Import <code>toast</code> from <code>'react-toastify'</code>.</li>
</ul>
</li>
<li>
<p>Define an asynchronous function named <code>action</code> that takes an object with a property named <code>request</code> as its parameter.</p>
</li>
<li>
<p>Inside the <code>action</code> function:</p>
<ul>
<li>Use the <code>request</code> object to get form data using the <code>formData</code> method.</li>
<li>Convert the form data to an object using <code>Object.fromEntries(formData)</code> and store it in the <code>data</code> variable.</li>
</ul>
</li>
<li>
<p>Use a <code>try</code> block to handle the registration process:</p>
<ul>
<li>Send a POST request using <code>customFetch.post</code> to the <code>/auth/local/register</code> endpoint with the <code>data</code>.</li>
<li>If the request is successful:
<ul>
<li>Display a success toast message using <code>toast.success</code>.</li>
<li>Redirect the user to the <code>/login</code> page using <code>redirect('/login')</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Use a <code>catch</code> block to handle errors:</p>
<ul>
<li>If an error occurs, extract the error message from the response data, if available, or provide a default error message.</li>
<li>Display the error message using <code>toast.error</code>.</li>
<li>Return <code>null</code> to indicate that an error occurred.</li>
</ul>
</li>
</ul>
<h2 id="solution-43---register-user">Solution (43) - Register User</h2>
<p>Register.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { FormInput, SubmitBtn } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;
<span class="hljs-keyword">import</span> { Form, redirect, Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">import</span> { customFetch } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> action = <span class="hljs-keyword">async</span> ({ request }) =&gt; {
  <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">await</span> request.formData();
  <span class="hljs-keyword">const</span> data = <span class="hljs-built_in">Object</span>.fromEntries(formData);
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch.post(<span class="hljs-string">'/auth/local/register'</span>, data);
    toast.success(<span class="hljs-string">'account created successfully'</span>);
    <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/login'</span>);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">const</span> errorMessage =
      error?.response?.data?.error?.message ||
      <span class="hljs-string">'please double check your credentials'</span>;

    toast.error(errorMessage);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }
};

<span class="hljs-keyword">const</span> Register = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'h-screen grid place-items-center'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Form</span>
        <span class="hljs-attr">method</span>=<span class="hljs-string">'POST'</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">'card w-96 py-8 px-8 bg-base-100 shadow-lg flex flex-col gap-y-4'</span>
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-center text-3xl font-bold'</span>&gt;</span>Register<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> <span class="hljs-attr">label</span>=<span class="hljs-string">'username'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'username'</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'email'</span> <span class="hljs-attr">label</span>=<span class="hljs-string">'email'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'email'</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'password'</span> <span class="hljs-attr">label</span>=<span class="hljs-string">'password'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'password'</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-4'</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">SubmitBtn</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'register'</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-center'</span>&gt;</span>
          Already a member?
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span>
            <span class="hljs-attr">to</span>=<span class="hljs-string">'/login'</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">'ml-2 link link-hover link-primary capitalize'</span>
          &gt;</span>
            login
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Register;
</div></code></pre>
<h2 id="challenge-44---login-setup">Challenge (44) - Login Setup</h2>
<ul>
<li><a href="https://documenter.getpostman.com/view/18152321/2s9Xy5KpTi">API DOCS</a></li>
<li>docs - login request</li>
<li>test in Thunder Client</li>
<li>setup action in login and access store</li>
</ul>
<h2 id="solution-44---login-setup">Solution (44) - Login Setup</h2>
<p>App.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { action <span class="hljs-keyword">as</span> loginAction } <span class="hljs-keyword">from</span> <span class="hljs-string">'./pages/Login'</span>;

<span class="hljs-keyword">import</span> { store } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;
{
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/login'</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span>,
    <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Error</span> /&gt;</span></span>,
    <span class="hljs-attr">action</span>: loginAction(store),
  },
</div></code></pre>
<p>Login.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> action =
  <span class="hljs-function">(<span class="hljs-params">store</span>) =&gt;</span>
  <span class="hljs-keyword">async</span> ({ request }) =&gt; {
    <span class="hljs-built_in">console</span>.log(store);
    <span class="hljs-keyword">return</span> store;
  };
</div></code></pre>
<h3 id="challenge-45---login-user">Challenge (45) - Login User</h3>
<h3 id="loginjsx">Login.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>redirect</code> from <code>'react-router-dom'</code>.</li>
<li>Import <code>customFetch</code> from <code>'../utils'</code>.</li>
<li>Import <code>toast</code> from <code>'react-toastify'</code>.</li>
<li>Import <code>loginUser</code> from <code>'../features/user/userSlice'</code>.</li>
<li>Import <code>useDispatch</code> from <code>'react-redux'</code>.</li>
</ul>
</li>
<li>
<p>Define a function named <code>action</code> that takes a parameter <code>store</code> and returns an asynchronous function that takes an object with a property named <code>request</code>.</p>
</li>
<li>
<p>Inside the inner asynchronous function:</p>
<ul>
<li>Use the <code>request</code> object to get form data using the <code>formData</code> method.</li>
<li>Convert the form data to an object using <code>Object.fromEntries(formData)</code> and store it in the <code>data</code> variable.</li>
</ul>
</li>
<li>
<p>Use a <code>try</code> block to handle the login process:</p>
<ul>
<li>Send a POST request using <code>customFetch.post</code> to the <code>/auth/local</code> endpoint with the <code>data</code>.</li>
<li>If the request is successful:
<ul>
<li>Dispatch the <code>loginUser</code> action with the response data using <code>store.dispatch</code>.</li>
<li>Display a success toast message using <code>toast.success</code>.</li>
<li>Redirect the user to the home page using <code>redirect('/')</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Use a <code>catch</code> block to handle errors:</p>
<ul>
<li>If an error occurs, log the error to the console.</li>
<li>Extract the error message from the response data, if available, or provide a default error message.</li>
<li>Display the error message using <code>toast.error</code>.</li>
<li>Return <code>null</code> to indicate that an error occurred.</li>
</ul>
</li>
</ul>
<h3 id="solution-45---login-user">Solution (45) - Login User</h3>
<p>userSlice.js</p>
<pre class="hljs"><code><div>loginUser: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(action.payload);
    },
</div></code></pre>
<p>Login.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { FormInput, SubmitBtn } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;
<span class="hljs-keyword">import</span> { Form, Link, redirect, useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> { customFetch } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;
<span class="hljs-keyword">import</span> { loginUser } <span class="hljs-keyword">from</span> <span class="hljs-string">'../features/user/userSlice'</span>;
<span class="hljs-keyword">import</span> { useDispatch } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> action =
  <span class="hljs-function">(<span class="hljs-params">store</span>) =&gt;</span>
  <span class="hljs-keyword">async</span> ({ request }) =&gt; {
    <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">await</span> request.formData();
    <span class="hljs-keyword">const</span> data = <span class="hljs-built_in">Object</span>.fromEntries(formData);
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch.post(<span class="hljs-string">'/auth/local'</span>, data);

      store.dispatch(loginUser(response.data));
      toast.success(<span class="hljs-string">'logged in successfully'</span>);
      <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/'</span>);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-built_in">console</span>.log(error);
      <span class="hljs-keyword">const</span> errorMessage =
        error?.response?.data?.error?.message ||
        <span class="hljs-string">'please double check your credentials'</span>;

      toast.error(errorMessage);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
  };
</div></code></pre>
<p>userSlice.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> getUserFromLocalStorage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(localStorage.getItem(<span class="hljs-string">'user'</span>)) || <span class="hljs-literal">null</span>;
};

<span class="hljs-keyword">const</span> initialState = {
  <span class="hljs-attr">user</span>: getUserFromLocalStorage(),
  <span class="hljs-attr">theme</span>: getThemeFromLocalStorage(),
};

loginUser: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> user = { ...action.payload.user, <span class="hljs-attr">token</span>: action.payload.jwt };
      state.user = user;
      localStorage.setItem(<span class="hljs-string">'user'</span>, <span class="hljs-built_in">JSON</span>.stringify(user));
    },
</div></code></pre>
<h2 id="challenge-46---demo-user">Challenge (46) - Demo User</h2>
<ul>
<li>remove defaultValue from inputs</li>
</ul>
<h3 id="loginasguestuser">loginAsGuestUser</h3>
<ul>
<li>Create a function named <code>loginAsGuestUser</code>.</li>
<li>Mark the function as <code>async</code> to indicate that it contains asynchronous operations.</li>
<li>Wrap the entire function body in a <code>try</code> block to handle potential errors.</li>
<li>Inside the <code>try</code> block, use the <code>customFetch.post</code> method to send a POST request.</li>
<li>Provide the endpoint URL <code>/auth/local</code>.</li>
<li>Pass an object with <code>identifier</code> and <code>password</code> properties as the request body.</li>
<li>Assign the response from the <code>customFetch.post</code> call to the <code>response</code> variable.- If the request is successful, dispatch an action (e.g., <code>loginUser</code>) with the <code>response.data</code>.</li>
<li>Use the <code>toast.success</code> method to display a success message (e.g., 'welcome guest user').</li>
<li>If the action dispatch and toast success are successful, use the <code>navigate</code> function to navigate to a specific route (e.g., <code>'/'</code>).</li>
<li>If any error occurs within the <code>try</code> block, it will be caught by the <code>catch</code> block.</li>
<li>Inside the <code>catch</code> block, use <code>console.log</code> to log the error for debugging purposes.</li>
<li>Display an error message using the <code>toast.error</code> method to notify the user about the login error.</li>
</ul>
<h2 id="solution-46---demo-user">Solution (46) - Demo User</h2>
<p>Login.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> Login = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> dispatch = useDispatch();
  <span class="hljs-keyword">const</span> navigate = useNavigate();
  <span class="hljs-keyword">const</span> loginAsGuestUser = <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch.post(<span class="hljs-string">'/auth/local'</span>, {
        <span class="hljs-attr">identifier</span>: <span class="hljs-string">'test@test.com'</span>,
        <span class="hljs-attr">password</span>: <span class="hljs-string">'secret'</span>,
      });
      dispatch(loginUser(response.data));
      toast.success(<span class="hljs-string">'welcome guest user'</span>);
      navigate(<span class="hljs-string">'/'</span>);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-built_in">console</span>.log(error);
      toast.error(<span class="hljs-string">'guest user login error.please try later.'</span>);
    }
  };
};

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">'button'</span>
  <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-secondary btn-block'</span>
  <span class="hljs-attr">onClick</span>=<span class="hljs-string">{loginAsGuestUser}</span>
&gt;</span>
  guest user
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
</div></code></pre>
<h2 id="challenge-47---checkout-page-setup">Challenge (47) - Checkout Page Setup</h2>
<ul>
<li>create CheckoutForm component</li>
</ul>
<h3 id="checkoutjsx">Checkout.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>useSelector</code> from <code>'react-redux'</code>.</li>
<li>Import <code>CheckoutForm</code>, <code>SectionTitle</code>, and <code>CartTotals</code> from <code>'../components'</code>.</li>
</ul>
</li>
<li>
<p>Create the <code>Checkout</code> component:</p>
<ul>
<li>Inside the component, use <code>useSelector</code> to access the <code>cartTotal</code> from the Redux store.</li>
<li>Check if the <code>cartTotal</code> is empty.</li>
<li>If the <code>cartTotal</code> is empty, return a <code>SectionTitle</code> component with the text 'Your cart is empty'.</li>
<li>If the <code>cartTotal</code> is not empty:
<ul>
<li>Return a <code>SectionTitle</code> component with the text 'Place your order'.</li>
<li>Render a <code>&lt;div&gt;</code> element with the class name 'mt-8 grid gap-8 md:grid-cols-2 items-start'.</li>
<li>Inside the <code>&lt;div&gt;</code>, render the <code>CheckoutForm</code> component and the <code>CartTotals</code> component.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Export the <code>Checkout</code> component as the default export.</p>
</li>
</ul>
<h2 id="solution-47---checkout-page-setup">Solution (47) - Checkout Page Setup</h2>
<p>Checkout.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> { CheckoutForm, SectionTitle, CartTotals } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;

<span class="hljs-keyword">const</span> Checkout = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> cartItems = useSelector(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.cartState.cartTotal);
  <span class="hljs-keyword">if</span> (cartTotal.length === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SectionTitle</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'Your cart is empty'</span> /&gt;</span></span>;
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">SectionTitle</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'Place your order'</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-8 grid gap-8  md:grid-cols-2 items-start'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">CheckoutForm</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">CartTotals</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Checkout;
</div></code></pre>
<h2 id="challenge-48---restrict-access">Challenge (48) - Restrict Access</h2>
<p>App.jsx</p>
<ul>
<li>in App.jsx import loader from Checkout page</li>
<li>pass store into the checkoutLoader</li>
<li>if no user redirect to login</li>
</ul>
<h3 id="checkoutjsx">Checkout.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>redirect</code> from <code>'react-router-dom'</code>.</li>
<li>Import <code>toast</code> from <code>'react-toastify'</code>.</li>
</ul>
</li>
<li>
<p>Create a <code>loader</code> function:</p>
<ul>
<li>The <code>loader</code> function takes a <code>store</code> as a parameter.</li>
<li>Inside the <code>loader</code> function:
<ul>
<li>Get the <code>user</code> from the Redux store using <code>store.getState().userState.user</code>.</li>
<li>Check if the <code>user</code> is falsy (not logged in).</li>
<li>If the <code>user</code> is falsy:
<ul>
<li>Display a toast warning message using <code>toast.warn()</code> with the text 'You must be logged in to checkout'.</li>
<li>Return <code>redirect('/login')</code> to redirect the user to the login page.</li>
</ul>
</li>
<li>If the <code>user</code> is truthy (logged in):
<ul>
<li>Return <code>null</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Export the <code>loader</code> function.</p>
</li>
</ul>
<h2 id="solution-48---restrict-access">Solution (48) - Restrict Access</h2>
<p>App.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { loader <span class="hljs-keyword">as</span> checkoutLoader } <span class="hljs-keyword">from</span> <span class="hljs-string">'./pages/Checkout'</span>;

<span class="hljs-keyword">import</span> { store } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;

<span class="hljs-keyword">const</span> router = createBrowserRouter([
  {
   ....
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'checkout'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Checkout</span> /&gt;</span></span>,
        <span class="hljs-attr">loader</span>: checkoutLoader(store),

      },

  },

]);

</div></code></pre>
<p>Checkout.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { redirect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader = <span class="hljs-function">(<span class="hljs-params">store</span>) =&gt;</span> <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> user = store.getState().userState.user;

  <span class="hljs-keyword">if</span> (!user) {
    toast.warn(<span class="hljs-string">'You must be logged in to checkout'</span>);
    <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/login'</span>);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
};
</div></code></pre>
<h2 id="challenge-49---checkoutform">Challenge (49) - CheckoutForm</h2>
<ul>
<li><a href="https://documenter.getpostman.com/view/18152321/2s9Xy5KpTi">API DOCS</a></li>
<li>docs - create order request</li>
<li>test in Thunder Client</li>
</ul>
<h3 id="appjsx">App.jsx</h3>
<ul>
<li>in App.jsx import action from CheckoutForm.jsx</li>
<li>pass store into the checkoutAction</li>
</ul>
<h2 id="checkoutformjsx">CheckoutForm.jsx</h2>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>Form</code> and <code>redirect</code> from <code>'react-router-dom'</code>.</li>
<li>Import <code>FormInput</code> and <code>SubmitBtn</code> from appropriate paths.</li>
<li>Import other required utilities and actions.</li>
</ul>
</li>
<li>
<p>Create an <code>action</code> function:</p>
<ul>
<li>The <code>action</code> function takes a <code>store</code> as a parameter and returns an asynchronous function that takes a <code>request</code> parameter.</li>
<li>Inside the async function:
<ul>
<li>Await <code>request.formData()</code> to get form data.</li>
<li>Destructure the <code>name</code> and <code>address</code> properties from the form data using <code>Object.fromEntries(formData)</code>.</li>
<li>Get the <code>user</code> from the Redux store using <code>store.getState().userState.user</code>.</li>
<li>Get the <code>cartItems</code>, <code>orderTotal</code>, and <code>numItemsInCart</code> from the Redux store using <code>store.getState().cartState</code>.</li>
<li>Create an <code>info</code> object containing the gathered information.</li>
<li>Try to make a POST request to '/orders' with the <code>info</code> data and the user's token in the headers.</li>
<li>If successful:
<ul>
<li>Dispatch the <code>clearCart()</code> action using <code>store.dispatch(clearCart())</code> to clear the cart.</li>
<li>Display a success toast message using <code>toast.success()</code> with the text 'order placed successfully'.</li>
<li>Return <code>redirect('/orders')</code> to redirect the user to the orders page.</li>
</ul>
</li>
<li>If there's an error:
<ul>
<li>Log the error.</li>
<li>Get the error message from the response data or provide a default message.</li>
<li>Display an error toast message using <code>toast.error()</code> with the error message.</li>
<li>Return <code>null</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Create a <code>CheckoutForm</code> component:</p>
<ul>
<li>Inside the component:
<ul>
<li>Use the <code>Form</code> component from 'react-router-dom' to create a form.</li>
<li>Display a heading for the shipping information.</li>
<li>Use the <code>FormInput</code> component to create input fields for the first name and address.</li>
<li>Use the <code>SubmitBtn</code> component to create a submit button with the text 'Place Your Order'.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Export the <code>CheckoutForm</code> component.</p>
</li>
</ul>
<h2 id="solution-49---checkoutform">Solution (49) - CheckoutForm</h2>
<p>App.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { action <span class="hljs-keyword">as</span> checkoutAction } <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/CheckoutForm'</span>;
<span class="hljs-keyword">import</span> { store } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;

<span class="hljs-keyword">const</span> router = createBrowserRouter([
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HomeLayout</span> /&gt;</span></span>,
    <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Error</span> /&gt;</span></span>,
    <span class="hljs-attr">children</span>: [
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'checkout'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Checkout</span> /&gt;</span></span>,
        <span class="hljs-attr">loader</span>: checkoutLoader(store),
        <span class="hljs-attr">action</span>: checkoutAction(store),
      },
    ],
  },
]);
</div></code></pre>
<p>CheckoutForm.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Form, redirect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> FormInput <span class="hljs-keyword">from</span> <span class="hljs-string">'./FormInput'</span>;
<span class="hljs-keyword">import</span> SubmitBtn <span class="hljs-keyword">from</span> <span class="hljs-string">'./SubmitBtn'</span>;
<span class="hljs-keyword">import</span> { customFetch, formatPrice } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;
<span class="hljs-keyword">import</span> { clearCart } <span class="hljs-keyword">from</span> <span class="hljs-string">'../features/cart/cartSlice'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> action =
  <span class="hljs-function">(<span class="hljs-params">store</span>) =&gt;</span>
  <span class="hljs-keyword">async</span> ({ request }) =&gt; {
    <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">await</span> request.formData();
    <span class="hljs-keyword">const</span> { name, address } = <span class="hljs-built_in">Object</span>.fromEntries(formData);
    <span class="hljs-keyword">const</span> user = store.getState().userState.user;
    <span class="hljs-keyword">const</span> { cartItems, orderTotal, numItemsInCart } =
      store.getState().cartState;

    <span class="hljs-keyword">const</span> info = {
      name,
      address,
      <span class="hljs-attr">chargeTotal</span>: orderTotal,
      <span class="hljs-attr">orderTotal</span>: formatPrice(orderTotal),
      cartItems,
      numItemsInCart,
    };
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch.post(
        <span class="hljs-string">'/orders'</span>,
        { <span class="hljs-attr">data</span>: info },
        {
          <span class="hljs-attr">headers</span>: {
            <span class="hljs-attr">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${user.token}</span>`</span>,
          },
        }
      );
      store.dispatch(clearCart());
      toast.success(<span class="hljs-string">'order placed successfully'</span>);
      <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/orders'</span>);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-built_in">console</span>.log(error);
      <span class="hljs-keyword">const</span> errorMessage =
        error?.response?.data?.error?.message ||
        <span class="hljs-string">'there was an error placing your order'</span>;

      toast.error(errorMessage);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
  };
<span class="hljs-keyword">const</span> CheckoutForm = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">'POST'</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'flex flex-col gap-y-4'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'font-medium text-xl'</span>&gt;</span>Shipping Information<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span> <span class="hljs-attr">label</span>=<span class="hljs-string">'first name'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'name'</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">FormInput</span> <span class="hljs-attr">label</span>=<span class="hljs-string">'address'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'address'</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-4'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SubmitBtn</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'Place Your Order'</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> CheckoutForm;
</div></code></pre>
<h2 id="challenge-50---auth-error">Challenge (50) - Auth Error</h2>
<ul>
<li>handle auth errors</li>
<li>check for response.status
<ul>
<li>if status === 401 redirect to login</li>
</ul>
</li>
</ul>
<h2 id="solution-50---auth-error">Solution (50) - Auth Error</h2>
<p>CheckoutForm.jsx</p>
<pre class="hljs"><code><div>
 <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-built_in">console</span>.log(error);
  <span class="hljs-keyword">const</span> errorMessage =
    error?.response?.data?.error?.message ||
    <span class="hljs-string">'there was an error placing your order'</span>;
  toast.error(errorMessage);
  <span class="hljs-keyword">if</span> (error?.response?.status === <span class="hljs-number">401</span> || <span class="hljs-number">403</span>) <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/login'</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</div></code></pre>
<h2 id="challenge-51---orders-request-overview">Challenge (51) - Orders Request Overview</h2>
<ul>
<li><a href="https://documenter.getpostman.com/view/18152321/2s9Xy5KpTi">API DOCS</a></li>
<li>docs - orders request</li>
<li>test in Thunder Client</li>
</ul>
<h2 id="solution-51---orders-request-overview">Solution (51) - Orders Request Overview</h2>
<h2 id="challenge-52---orders-page-setup">Challenge (52) - Orders Page Setup</h2>
<ul>
<li>create components/OrdersList.jsx (export)</li>
<li>create loader (import/setup in App.jsx and provide store)</li>
<li>restrict access to page</li>
<li>make a request to get all users</li>
<li>grab all the query params</li>
<li>return orders and meta</li>
</ul>
<h3 id="ordersjsx">Orders.jsx</h3>
<ol>
<li>
<p><strong>Import Dependencies:</strong></p>
<ul>
<li>Import the required modules and components from 'react-router-dom', 'react-toastify', and other custom files.</li>
</ul>
</li>
<li>
<p><strong>Define Loader Function:</strong></p>
<ul>
<li>Create a loader function that takes the <code>store</code> parameter and an object with a <code>request</code> property.</li>
<li>Within the loader function:
<ul>
<li>Retrieve the user information from the Redux store.</li>
<li>Check if the user is logged in. If not, display a warning toast and redirect to the login page.</li>
<li>Parse query parameters from the URL.</li>
<li>Use the <code>customFetch</code> utility to make a GET request to the '/orders' endpoint.</li>
<li>Handle successful responses by returning the fetched orders data and meta information.</li>
<li>Handle errors by displaying appropriate error messages using toast and optionally redirecting if unauthorized.</li>
<li>Return <code>null</code> if an error occurs.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Define Orders Component:</strong></p>
<ul>
<li>Create a functional component named <code>Orders</code>.</li>
<li>Within the component:
<ul>
<li>Return JSX that displays a heading element with the text &quot;orders&quot;.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Export Loader Function:</strong></p>
<ul>
<li>Export the defined loader function.</li>
</ul>
</li>
<li>
<p><strong>Export Orders Component:</strong></p>
<ul>
<li>Export the <code>Orders</code> component as the default export of the module.</li>
</ul>
</li>
</ol>
<h2 id="solution-52---orders-page-setup">Solution (52) - Orders Page Setup</h2>
<p>App.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { loader <span class="hljs-keyword">as</span> ordersLoader } <span class="hljs-keyword">from</span> <span class="hljs-string">'./pages/Orders'</span>;

{
  <span class="hljs-attr">path</span>: <span class="hljs-string">'orders'</span>,
  <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Orders</span> /&gt;</span></span>,
  <span class="hljs-attr">loader</span>: ordersLoader(store),
},
</div></code></pre>
<p>Orders.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { redirect, useLoaderData } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;
<span class="hljs-keyword">import</span> { customFetch } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">import</span> { OrdersList, PaginationContainer, SectionTitle } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader =
  <span class="hljs-function">(<span class="hljs-params">store</span>) =&gt;</span>
  <span class="hljs-keyword">async</span> ({ request }) =&gt; {
    <span class="hljs-keyword">const</span> user = store.getState().userState.user;

    <span class="hljs-keyword">if</span> (!user) {
      toast.warn(<span class="hljs-string">'You must be logged in to view orders'</span>);
      <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/login'</span>);
    }
    <span class="hljs-keyword">const</span> params = <span class="hljs-built_in">Object</span>.fromEntries([
      ...new URL(request.url).searchParams.entries(),
    ]);
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch.get(<span class="hljs-string">'/orders'</span>, {
        params,
        <span class="hljs-attr">headers</span>: {
          <span class="hljs-attr">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${user.token}</span>`</span>,
        },
      });

      <span class="hljs-keyword">return</span> { <span class="hljs-attr">orders</span>: response.data.data, <span class="hljs-attr">meta</span>: response.data.meta };
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-built_in">console</span>.log(error);
      <span class="hljs-keyword">const</span> errorMessage =
        error?.response?.data?.error?.message ||
        <span class="hljs-string">'there was an error accessing your orders'</span>;

      toast.error(errorMessage);
      <span class="hljs-keyword">if</span> (error?.response?.status === <span class="hljs-number">401</span> || <span class="hljs-number">403</span>) <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/login'</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
  };
<span class="hljs-keyword">const</span> Orders = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-3xl'</span>&gt;</span>orders<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Orders;
</div></code></pre>
<h2 id="challenge-53---render-orders">Challenge (53) - Render Orders</h2>
<h3 id="ordersjsx">Orders.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import necessary components and hooks from your project's dependencies.</li>
</ul>
</li>
<li>
<p>Define Component:</p>
<ul>
<li>Define a functional component named <code>Orders</code>.</li>
</ul>
</li>
<li>
<p>Fetch Data:</p>
<ul>
<li>Use the <code>useLoaderData</code> hook to access data from the loader context.</li>
<li>Check if the <code>meta.pagination.total</code> value is less than 1 to determine if there are no orders.</li>
</ul>
</li>
<li>
<p>Conditional Rendering:</p>
<ul>
<li>If there are no orders, return a component, such as <code>&lt;SectionTitle /&gt;</code>, with a message like 'Please make an order'.</li>
</ul>
</li>
<li>
<p>Orders Rendering:</p>
<ul>
<li>If there are orders, return the following components:
<ul>
<li><code>&lt;SectionTitle /&gt;</code> with the text 'Your Orders'.</li>
<li><code>&lt;OrdersList /&gt;</code> component to display the list of orders.</li>
<li><code>&lt;PaginationContainer /&gt;</code> component for handling pagination.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Export Component:</p>
<ul>
<li>Export the <code>Orders</code> component as the default export.</li>
</ul>
</li>
</ul>
<h3 id="orderslistjsx">OrdersList.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>useLoaderData</code> from <code>'react-router-dom'</code>.</li>
<li>Import <code>day</code> and <code>advancedFormat</code> from <code>'dayjs'</code>.</li>
<li>Extend dayjs with the <code>advancedFormat</code> plugin using <code>day.extend(advancedFormat)</code>.</li>
</ul>
</li>
<li>
<p>Create the <code>OrdersList</code> component:</p>
<ul>
<li>Inside the component:
<ul>
<li>Use the <code>useLoaderData()</code> hook to get data from loader data.</li>
<li>Destructure <code>orders</code> and <code>meta</code> from the loaded data.</li>
<li>Return the orders list interface:
<ul>
<li>Display the total number of orders using the <code>meta.pagination.total</code> value.</li>
<li>Create a table to display order information.</li>
<li>Define table headings: Name, Address, Products, Cost, and Date.</li>
<li>Use <code>.map()</code> to iterate over each order and generate table rows:
<ul>
<li>Destructure relevant attributes from the <code>order</code> object.</li>
<li>Format the <code>createdAt</code> date using dayjs to display in 'hh:mm a - MMM Do, YYYY' format.</li>
<li>Return a table row with the extracted data.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Export the <code>OrdersList</code> component.</p>
</li>
</ul>
<h2 id="solution-53---render-orders">Solution (53) - Render Orders</h2>
<p>Orders.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> Orders = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { meta } = useLoaderData();
  <span class="hljs-keyword">if</span> (meta.pagination.total &lt; <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SectionTitle</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'Please make an order'</span> /&gt;</span></span>;
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">SectionTitle</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'Your Orders'</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">OrdersList</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PaginationContainer</span> /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Orders;
</div></code></pre>
<p>OrdersList.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useLoaderData } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> day <span class="hljs-keyword">from</span> <span class="hljs-string">'dayjs'</span>;
<span class="hljs-keyword">import</span> advancedFormat <span class="hljs-keyword">from</span> <span class="hljs-string">'dayjs/plugin/advancedFormat'</span>;
day.extend(advancedFormat);

<span class="hljs-keyword">const</span> OrdersList = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { orders, meta } = useLoaderData();
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-8'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mb-4 capitalize'</span>&gt;</span>
        total orders : {meta.pagination.total}
      <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'overflow-x-auto '</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'table table-zebra'</span>&gt;</span>
          {/* head */}
          <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Products<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Cost<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'hidden sm:block'</span>&gt;</span>Date<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
            {orders.map((order) =&gt; {
              const id = order.id;
              const { name, address, numItemsInCart, orderTotal, createdAt } =
                order.attributes;

              const date = day(createdAt).format('hh:mm a - MMM Do, YYYY ');
              return (
                <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{id}</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{address}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{numItemsInCart}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{orderTotal}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'hidden sm:block'</span>&gt;</span>{date}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
              );
            })}
          <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> OrdersList;
</div></code></pre>
<h2 id="challenge-54---complex-pagination">Challenge (54) - Complex Pagination</h2>
<ul>
<li>create ComplexPaginationContainer.jsx</li>
<li>render in Orders.jsx</li>
</ul>
<h3 id="complexpaginationcontainerjsx">ComplexPaginationContainer.jsx</h3>
<ul>
<li>
<p>Import Dependencies:</p>
<ul>
<li>Import <code>useLoaderData</code>, <code>useLocation</code>, and <code>useNavigate</code> from <code>'react-router-dom'</code>.</li>
</ul>
</li>
<li>
<p>Create the <code>ComplexPaginationContainer</code> component:</p>
<ul>
<li>Inside the component:
<ul>
<li>Use the <code>useLoaderData()</code> hook to get data from loader data.</li>
<li>Destructure <code>meta.pagination</code> to get <code>pageCount</code> and <code>page</code>.</li>
<li>Use the <code>useLocation()</code> hook to get the current location's search and pathname.</li>
<li>Use the <code>useNavigate()</code> hook to get the navigation function.</li>
<li>Create a <code>handlePageChange</code> function that:
<ul>
<li>Constructs a new URLSearchParams from the current search.</li>
<li>Sets the 'page' parameter in the search to the specified <code>pageNumber</code>.</li>
<li>Uses the navigate function to change the URL with the updated search.</li>
</ul>
</li>
<li>Create an <code>addPageButton</code> function that returns a button element with the appropriate classes and onClick handler.</li>
<li>Create a <code>renderPageButtons</code> function that generates an array of page buttons, including ellipses and the current page button.</li>
<li>Use conditional checks to handle rendering of first, last, and ellipsis buttons.</li>
<li>Return <code>null</code> if <code>pageCount</code> is less than 2.</li>
<li>Return the pagination interface containing the &quot;Prev,&quot; page buttons, and &quot;Next&quot; buttons.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Export the <code>ComplexPaginationContainer</code> component.</p>
</li>
</ul>
<h2 id="solution-54---complex-pagination">Solution (54) - Complex Pagination</h2>
<p>ComplexPaginationContainer.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useLoaderData, useLocation, useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> ComplexPaginationContainer = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { meta } = useLoaderData();
  <span class="hljs-keyword">const</span> { pageCount, page } = meta.pagination;

  <span class="hljs-keyword">const</span> { search, pathname } = useLocation();
  <span class="hljs-keyword">const</span> navigate = useNavigate();
  <span class="hljs-keyword">const</span> handlePageChange = <span class="hljs-function">(<span class="hljs-params">pageNumber</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> searchParams = <span class="hljs-keyword">new</span> URLSearchParams(search);
    searchParams.set(<span class="hljs-string">'page'</span>, pageNumber);
    navigate(<span class="hljs-string">`<span class="hljs-subst">${pathname}</span>?<span class="hljs-subst">${searchParams.toString()}</span>`</span>);
  };

  <span class="hljs-keyword">const</span> addPageButton = <span class="hljs-function">(<span class="hljs-params">{ pageNumber, activeClass }</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>
        <span class="hljs-attr">key</span>=<span class="hljs-string">{pageNumber}</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handlePageChange(pageNumber)}
        className={`btn btn-xs sm:btn-md border-none join-item ${
          activeClass ? 'bg-base-300 border-base-300 ' : ''
        }`}
      &gt;
        {pageNumber}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
    );
  };

  <span class="hljs-keyword">const</span> renderPageButtons = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> pageButtons = [];
    <span class="hljs-comment">// first button</span>
    pageButtons.push(addPageButton({ <span class="hljs-attr">pageNumber</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">activeClass</span>: page === <span class="hljs-number">1</span> }));

    <span class="hljs-comment">// dots</span>
    <span class="hljs-keyword">if</span> (page &gt; <span class="hljs-number">2</span>) {
      pageButtons.push(
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'join-item btn btn-xs sm:btn-md'</span> <span class="hljs-attr">key</span>=<span class="hljs-string">'dots-1'</span>&gt;</span>
          ...
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
      );
    }

    <span class="hljs-comment">// active/current page</span>
    <span class="hljs-keyword">if</span> (page !== <span class="hljs-number">1</span> &amp;&amp; page !== pageCount) {
      pageButtons.push(addPageButton({ <span class="hljs-attr">pageNumber</span>: page, <span class="hljs-attr">activeClass</span>: <span class="hljs-literal">true</span> }));
    }
    <span class="hljs-comment">// dots</span>
    <span class="hljs-keyword">if</span> (page &lt; pageCount - <span class="hljs-number">1</span>) {
      pageButtons.push(
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'join-item btn btn-xs sm:btn-md'</span> <span class="hljs-attr">key</span>=<span class="hljs-string">'dots-2'</span>&gt;</span>
          ...
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
      );
    }

    <span class="hljs-comment">// last button</span>
    pageButtons.push(
      addPageButton({ <span class="hljs-attr">pageNumber</span>: pageCount, <span class="hljs-attr">activeClass</span>: page === pageCount })
    );
    <span class="hljs-keyword">return</span> pageButtons;
  };

  <span class="hljs-keyword">if</span> (pageCount &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'mt-16 flex justify-end'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'join'</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-xs sm:btn-md join-item'</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
            let prevPage = page - 1;
            if (prevPage <span class="hljs-tag">&lt; <span class="hljs-attr">1</span>) <span class="hljs-attr">prevPage</span> = <span class="hljs-string">pageCount;</span>
            <span class="hljs-attr">handlePageChange</span>(<span class="hljs-attr">prevPage</span>);
          }}
        &gt;</span>
          Prev
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        {renderPageButtons()}
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">'btn btn-xs sm:btn-md join-item'</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
            let nextPage = page + 1;
            if (nextPage &gt; pageCount) nextPage = 1;
            handlePageChange(nextPage);
          }}
        &gt;
          Next
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ComplexPaginationContainer;
</div></code></pre>
<h2 id="challenge-55---setup-react-query">Challenge (55) - Setup React Query</h2>
<ul>
<li>import and setup react query in App.jsx</li>
<li>pass query client down to
<ul>
<li>Landing Page</li>
<li>SingleProduct Page</li>
<li>Products Page</li>
</ul>
</li>
<li>refactor loaders</li>
</ul>
<h2 id="solution-55---setup-react-query">Solution (55) - Setup React Query</h2>
<p>App.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { QueryClient, QueryClientProvider } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>;
<span class="hljs-keyword">import</span> { ReactQueryDevtools } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query-devtools'</span>;

<span class="hljs-keyword">const</span> queryClient = <span class="hljs-keyword">new</span> QueryClient({
  <span class="hljs-attr">defaultOptions</span>: {
    <span class="hljs-attr">queries</span>: {
      <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">5</span>,
    },
  },
});

<span class="hljs-keyword">const</span> router = createBrowserRouter([
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HomeLayout</span> /&gt;</span></span>,
    <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Error</span> /&gt;</span></span>,
    <span class="hljs-attr">children</span>: [
      {
        <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Landing</span> /&gt;</span></span>,
        <span class="hljs-attr">loader</span>: landingLoader(queryClient),
        <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ErrorElement</span> /&gt;</span></span>,
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'products'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Products</span> /&gt;</span></span>,
        <span class="hljs-attr">loader</span>: productsLoader(queryClient),
        <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ErrorElement</span> /&gt;</span></span>,
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'products/:id'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SingleProduct</span> /&gt;</span></span>,
        <span class="hljs-attr">loader</span>: singleProductLoader(queryClient),
        <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ErrorElement</span> /&gt;</span></span>,
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'checkout'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Checkout</span> /&gt;</span></span>,
        <span class="hljs-attr">loader</span>: checkoutLoader(store),
        <span class="hljs-attr">action</span>: checkoutAction(store, queryClient),
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'orders'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Orders</span> /&gt;</span></span>,
        <span class="hljs-attr">loader</span>: ordersLoader(store, queryClient),
      },
    ],
  },
]);

<span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">QueryClientProvider</span> <span class="hljs-attr">client</span>=<span class="hljs-string">{queryClient}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{router}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ReactQueryDevtools</span> <span class="hljs-attr">initialIsOpen</span>=<span class="hljs-string">{false}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">QueryClientProvider</span>&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</div></code></pre>
<p>Landing.js</p>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader = <span class="hljs-function">(<span class="hljs-params">queryClient</span>) =&gt;</span> <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch(url);
  <span class="hljs-keyword">const</span> products = response.data.data;
  <span class="hljs-keyword">return</span> { products };
};
</div></code></pre>
<h2 id="challenge-56---landing">Challenge (56) - Landing</h2>
<ul>
<li>setup react query and invoke in loader</li>
</ul>
<h2 id="solution-56---landing">Solution (56) - Landing</h2>
<p>Landing.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> featuredProductsQuery = {
  <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'featuredProducts'</span>],
  <span class="hljs-attr">queryFn</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> customFetch(url),
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader = <span class="hljs-function">(<span class="hljs-params">queryClient</span>) =&gt;</span> <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> queryClient.ensureQueryData(featuredProductsQuery);
  <span class="hljs-keyword">const</span> products = response.data.data;
  <span class="hljs-keyword">return</span> { products };
};
</div></code></pre>
<h2 id="challenge-57---single-product">Challenge (57) - Single Product</h2>
<ul>
<li>setup react query and invoke in loader</li>
</ul>
<h2 id="solution-57---single-product">Solution (57) - Single Product</h2>
<p>SingleProduct.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> singleProductQuery = <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'singleProduct'</span>, id],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> customFetch.get(<span class="hljs-string">`/products/<span class="hljs-subst">${id}</span>`</span>),
  };
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader =
  <span class="hljs-function">(<span class="hljs-params">queryClient</span>) =&gt;</span>
  <span class="hljs-keyword">async</span> ({ params }) =&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> queryClient.ensureQueryData(
      singleProductQuery(params.id)
    );
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">product</span>: response.data.data };
  };
</div></code></pre>
<h2 id="challenge-58---all-products">Challenge (58) - All Products</h2>
<ul>
<li>setup react query and invoke in loader</li>
</ul>
<h2 id="solution-58---all-products">Solution (58) - All Products</h2>
<p>Products.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> allProductsQuery = <span class="hljs-function">(<span class="hljs-params">queryParams</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { search, category, company, sort, price, shipping, page } =
    queryParams;

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">queryKey</span>: [
      <span class="hljs-string">'products'</span>,
      search ?? <span class="hljs-string">''</span>,
      category ?? <span class="hljs-string">'all'</span>,
      company ?? <span class="hljs-string">'all'</span>,
      sort ?? <span class="hljs-string">'a-z'</span>,
      price ?? <span class="hljs-number">100000</span>,
      shipping ?? <span class="hljs-literal">false</span>,
      page ?? <span class="hljs-number">1</span>,
    ],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
      customFetch(url, {
        <span class="hljs-attr">params</span>: queryParams,
      }),
  };
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader =
  <span class="hljs-function">(<span class="hljs-params">queryClient</span>) =&gt;</span>
  <span class="hljs-keyword">async</span> ({ request }) =&gt; {
    <span class="hljs-keyword">const</span> params = <span class="hljs-built_in">Object</span>.fromEntries([
      ...new URL(request.url).searchParams.entries(),
    ]);
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> queryClient.ensureQueryData(
      allProductsQuery(params)
    );

    <span class="hljs-keyword">const</span> products = response.data.data;
    <span class="hljs-keyword">const</span> meta = response.data.meta;

    <span class="hljs-keyword">return</span> { products, meta, params };
  };
</div></code></pre>
<p>?? === This operator is known as the nullish coalescing operator in JavaScript. It is a logical operator that returns its right-hand side operand when its left-hand side operand is null or undefined, and otherwise returns its left-hand side operand.</p>
<p>In simpler terms, the ?? operator is used to provide a default value for potentially null or undefined variables.</p>
<h2 id="challenge-59---orders">Challenge (59) - Orders</h2>
<p>setup react query and invoke in loader</p>
<h2 id="solution-59---orders">Solution (59) - Orders</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { redirect, useLoaderData } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;
<span class="hljs-keyword">import</span> { customFetch } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">import</span> {
  OrdersList,
  ComplexPaginationContainer,
  SectionTitle,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'../components'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ordersQuery = <span class="hljs-function">(<span class="hljs-params">params, user</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">queryKey</span>: [
      <span class="hljs-string">'orders'</span>,
      user.username,
      params.page ? <span class="hljs-built_in">parseInt</span>(params.page) : <span class="hljs-number">1</span>,
    ],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
      customFetch.get(<span class="hljs-string">'/orders'</span>, {
        params,
        <span class="hljs-attr">headers</span>: {
          <span class="hljs-attr">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${user.token}</span>`</span>,
        },
      }),
  };
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> loader =
  <span class="hljs-function">(<span class="hljs-params">store, queryClient</span>) =&gt;</span>
  <span class="hljs-keyword">async</span> ({ request }) =&gt; {
    <span class="hljs-keyword">const</span> user = store.getState().userState.user;

    <span class="hljs-keyword">if</span> (!user) {
      toast.warn(<span class="hljs-string">'You must be logged in to view orders'</span>);
      <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/login'</span>);
    }
    <span class="hljs-keyword">const</span> params = <span class="hljs-built_in">Object</span>.fromEntries([
      ...new URL(request.url).searchParams.entries(),
    ]);
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> queryClient.ensureQueryData(
        ordersQuery(params, user)
      );

      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">orders</span>: response.data.data,
        <span class="hljs-attr">meta</span>: response.data.meta,
      };
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-built_in">console</span>.log(error);
      <span class="hljs-keyword">const</span> errorMessage =
        error?.response?.data?.error?.message ||
        <span class="hljs-string">'there was an error accessing your orders'</span>;

      toast.error(errorMessage);
      <span class="hljs-keyword">if</span> (error?.response?.status === <span class="hljs-number">401</span> || <span class="hljs-number">403</span>) <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/login'</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
  };
<span class="hljs-keyword">const</span> Orders = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { meta } = useLoaderData();

  <span class="hljs-keyword">if</span> (meta.pagination.total &lt; <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SectionTitle</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'Please make an order'</span> /&gt;</span></span>;
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">SectionTitle</span> <span class="hljs-attr">text</span>=<span class="hljs-string">'Your Orders'</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">OrdersList</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ComplexPaginationContainer</span> /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Orders;
</div></code></pre>
<h2 id="challenge-60---remove-queries">Challenge (60) - Remove Queries</h2>
<ul>
<li>remove &quot;orders&quot; query in CheckoutForm and Header</li>
</ul>
<h2 id="solution-60---remove-queries">Solution (60) - Remove Queries</h2>
<p>CheckoutForm.jsx</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Form, redirect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> FormInput <span class="hljs-keyword">from</span> <span class="hljs-string">'./FormInput'</span>;
<span class="hljs-keyword">import</span> SubmitBtn <span class="hljs-keyword">from</span> <span class="hljs-string">'./SubmitBtn'</span>;
<span class="hljs-keyword">import</span> { customFetch, formatPrice } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;
<span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-toastify'</span>;
<span class="hljs-keyword">import</span> { clearCart } <span class="hljs-keyword">from</span> <span class="hljs-string">'../features/cart/cartSlice'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> action =
  <span class="hljs-function">(<span class="hljs-params">store, queryClient</span>) =&gt;</span>
  <span class="hljs-keyword">async</span> ({ request }) =&gt; {
    ...
    try {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> customFetch.post(
        <span class="hljs-string">'/orders'</span>,
        { <span class="hljs-attr">data</span>: info },
        {
          <span class="hljs-attr">headers</span>: {
            <span class="hljs-attr">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${user.token}</span>`</span>,
          },
        }
      );
      <span class="hljs-comment">// remove query</span>
      queryClient.removeQueries([<span class="hljs-string">'orders'</span>]);
      <span class="hljs-comment">// rest of the code</span>
      store.dispatch(clearCart());
      toast.success(<span class="hljs-string">'order placed successfully'</span>);
      <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/orders'</span>);
    } ...
  };
</div></code></pre>
<p>Header.jsx</p>
<pre class="hljs"><code><div>
<span class="hljs-keyword">import</span> { useQueryClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>;
<span class="hljs-keyword">const</span> Header = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> navigate = useNavigate();
  <span class="hljs-keyword">const</span> dispatch = useDispatch();
  <span class="hljs-keyword">const</span> user = useSelector(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.userState.user);
  <span class="hljs-keyword">const</span> queryClient = useQueryClient();
  <span class="hljs-keyword">const</span> handleLogout = <span class="hljs-keyword">async</span> () =&gt; {
    navigate(<span class="hljs-string">'/'</span>);
    dispatch(logoutUser());
    dispatch(clearCart());
    queryClient.removeQueries();
  };
  ...
}

</div></code></pre>

</body>
</html>
